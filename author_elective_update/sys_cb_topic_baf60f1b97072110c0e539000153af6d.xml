<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_topic">
    <sys_cb_topic action="DELETE">
        <applicability/>
        <applicability_mode>query</applicability_mode>
        <autopilot_topic>false</autopilot_topic>
        <category>3efd22da0b203300a1b16c2367673a10</category>
        <channels/>
        <connect_queue/>
        <description>ITSM conversation for searching and submitting catalog items</description>
        <expose_on_palette>false</expose_on_palette>
        <flexible_conversation_switching>false</flexible_conversation_switching>
        <graph>{"graph_api_version":"1.0.42","variables":{"3178087161664b1c91034430180a884a":{"id":"3178087161664b1c91034430180a884a","name":"LiveAgent_application","value":{"mode":"simple","value":"itsm"},"varType":"script","label":"LiveAgent_application","category":"vaVars"},"50093fb22a304ccba6e32393e38186ec":{"id":"50093fb22a304ccba6e32393e38186ec","value":{"mode":"script","value":"(function execute() {\n    return gs.getProperty('glide.servlet.uri');\n})()\n"},"name":"baseUri","label":"baseUri","varType":"script","category":"vaVars"},"d2549e728dca42a2abfc89fa1d463df8":{"id":"d2549e728dca42a2abfc89fa1d463df8","value":{"mode":"script","value":"(function execute() {\n    if (vaContext.deviceType == 'ios' || vaContext.deviceType == 'android')\n        return 'mesp';\n\n    return gs.getProperty('sn_itsm_va.com.snc.itsm.virtualagent.portal_url');\n})()\n"},"name":"portalName","label":"portalName","varType":"script","category":"vaVars"},"5fa577c15ccd415ba8b51117954fc171":{"id":"5fa577c15ccd415ba8b51117954fc171","name":"search_catalogitem","label":"Search CatalogItem","varType":"string","category":"vaInputs","secure":false,"encryptionSalt":{"value":"MTYyNDI5NTQxMTYxMSBWQSBEZXNpZ25lciBpcyBhd2Vzb21l","mode":"simple"},"encryptionHashFunction":"SHA-256","nodeId":"423596eca4064f31a096115d497f3baa","isHidden":false},"23c8fae5ff9343619f5ed999a2e3f660":{"category":"vaInputs","id":"23c8fae5ff9343619f5ed999a2e3f660","label":"User","name":"user","table":"sys_user","varType":"reference"},"716ae74be12647f19b9e3c96d4214320":{"id":"716ae74be12647f19b9e3c96d4214320","name":"search_again","label":"Search Again","varType":"choice","choices":[{"label":"Yes","value":"0"},{"label":"No","value":"1","checked":true}],"category":"vaInputs","nodeId":"8ef9ef7954204f1e950d997401e98751","isHidden":false},"802c4cb6309e4d399c0cd21a986083e1":{"id":"802c4cb6309e4d399c0cd21a986083e1","name":"search_hardware","label":"Search Hardware","varType":"string","secure":false,"category":"vaInputs","encryptionHashFunction":"SHA-256","encryptionSalt":{"value":"MTYzMTY5MjI2Mzk0MCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l","mode":"simple"},"nodeId":"0e55b45e8fc64b48b6e12a813eafa8ca","isHidden":false},"36698db564254e35b2f27453803c3314":{"id":"36698db564254e35b2f27453803c3314","value":{"mode":"simple","value":""},"name":"catalog_item_id","label":"catalog_item_id","varType":"script","category":"vaVars"},"04f246b307c340e08d55d6d5cd31f107":{"id":"04f246b307c340e08d55d6d5cd31f107","value":{"value":"","mode":"simple"},"name":"is_conversational","label":"is_conversational","varType":"script","category":"vaVars"},"9d168acb8e12422ca873b7d38f6de0df":{"id":"9d168acb8e12422ca873b7d38f6de0df","name":"search_software","label":"Search Software","varType":"string","secure":false,"category":"vaInputs","encryptionHashFunction":"SHA-256","encryptionSalt":{"value":"MTYzNzA2MzQ1Mjg3MSBWQSBEZXNpZ25lciBpcyBhd2Vzb21l","mode":"simple"},"nodeId":"e6b8aebb2f6b443c93dccf0a12c47723","isHidden":false},"6c6abd9d000447b39b032fc6135411ad":{"id":"6c6abd9d000447b39b032fc6135411ad","name":"search","label":"Search","varType":"string","secure":false,"category":"vaInputs","encryptionHashFunction":"SHA-256","encryptionSalt":{"value":"MTYzNzA2MzQ2NjM1NyBWQSBEZXNpZ25lciBpcyBhd2Vzb21l","mode":"simple"},"nodeId":"0f025be1426740e28805367836daeffa","isHidden":false},"501a1f11c14d43c788bbf7a0502978af":{"id":"501a1f11c14d43c788bbf7a0502978af","value":{"value":"","mode":"simple"},"name":"search_catalogitem","label":"search_catalogitem","varType":"script","category":"vaVars"},"41a077d83f2e47af8e0469f1743c94c9":{"id":"41a077d83f2e47af8e0469f1743c94c9","value":{"value":"","mode":"simple"},"name":"search_hardware","label":"search_hardware","varType":"script","category":"vaVars"},"591df76ec7aa4bd3badd848cc6c58926":{"id":"591df76ec7aa4bd3badd848cc6c58926","value":{"value":"","mode":"simple"},"name":"search_software","label":"search_software","varType":"script","category":"vaVars"},"e3f4fd88895e443fae3a488937610a93":{"id":"e3f4fd88895e443fae3a488937610a93","value":{"mode":"simple","value":"false"},"name":"search_again","label":"search_again","varType":"script","category":"vaVars"},"b5e382a1208d471fbdc70cf962456907":{"id":"b5e382a1208d471fbdc70cf962456907","value":{"mode":"simple","value":"false"},"name":"hardware_software_entity_searched","label":"hardware_software_entity_searched","varType":"script","category":"vaVars"},"ffa0163d13ed48f892546bd7ae88023e":{"id":"ffa0163d13ed48f892546bd7ae88023e","value":{"mode":"simple","value":"false"},"name":"query_search","label":"query_search","varType":"script","category":"vaVars"},"fd8f4493ad3a463eb020c8a1b35484b7":{"id":"fd8f4493ad3a463eb020c8a1b35484b7","value":{"value":"","mode":"simple"},"name":"image","label":"image","varType":"script","category":"vaVars"},"6d7ea358b1c0430da99c2161ad1a9911":{"id":"6d7ea358b1c0430da99c2161ad1a9911","value":{"value":"","mode":"simple"},"name":"item_title","label":"item_title","varType":"script","category":"vaVars"},"fbc8ddbd5fc14ed8a2a7fbf71f9fa60c":{"id":"fbc8ddbd5fc14ed8a2a7fbf71f9fa60c","value":{"value":"","mode":"simple"},"name":"itemJSON","label":"itemJSON","varType":"script","category":"vaVars"},"514a58602df24355b3e66582a5cb74b6":{"id":"514a58602df24355b3e66582a5cb74b6","value":{"value":"","mode":"simple"},"name":"search","label":"search","varType":"script","category":"vaVars"},"eea7f724b01740499306be846a79b3f0":{"id":"eea7f724b01740499306be846a79b3f0","value":{"mode":"simple","value":"false"},"name":"direct_search","label":"direct_search","varType":"script","category":"vaVars"},"3bc13a7c49a94b79a2cb373ad2ea3b12":{"id":"3bc13a7c49a94b79a2cb373ad2ea3b12","name":"catalog_item_id","label":"Catalog_item_id","defaultValue":"catalog_item_id","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":true,"nodeId":"f94ca48fc8ec4fbe94026dc90733505b","isHidden":false},"652748f47460441981fdd686c59fbd28":{"id":"652748f47460441981fdd686c59fbd28","name":"item_type","label":"Item_type","defaultValue":"item_type","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":false,"nodeId":"f94ca48fc8ec4fbe94026dc90733505b","isHidden":false},"12a237c5856947aab4a38e8c32ed7eb1":{"id":"12a237c5856947aab4a38e8c32ed7eb1","name":"is_conversational","label":"Is_conversational","defaultValue":"is_conversational","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":true,"nodeId":"f94ca48fc8ec4fbe94026dc90733505b","isHidden":false},"b2ab7447185a4bf988279bd49bc7b9f8":{"id":"b2ab7447185a4bf988279bd49bc7b9f8","value":{"mode":"simple","value":"false"},"name":"hardware_software_entity_mapped","label":"hardware_software_entity_mapped","varType":"script","category":"vaVars"},"6abea22fd49d4b9689bd8d80329ea62a":{"id":"6abea22fd49d4b9689bd8d80329ea62a","value":{"value":"","mode":"simple"},"name":"record_table","label":"record_table","varType":"script","category":"vaVars"},"5b7dce15624649258ebc87a48c0937cc":{"id":"5b7dce15624649258ebc87a48c0937cc","value":{"value":"","mode":"simple"},"name":"record_id","label":"record_id","varType":"script","category":"vaVars"},"4c88bdc29d7246b1a22547a32d68782b":{"id":"4c88bdc29d7246b1a22547a32d68782b","value":{"value":"","mode":"simple"},"name":"recordLink","label":"recordLink","varType":"script","category":"vaVars"},"59b2634a174c4c2cab7db456cae366a2":{"id":"59b2634a174c4c2cab7db456cae366a2","value":{"mode":"simple","value":""},"name":"isTaskBasedTable","label":"isTaskBasedTable","varType":"script","category":"vaVars"},"99f150fc9c794fbbb32fcd3df2a6b4fe":{"id":"99f150fc9c794fbbb32fcd3df2a6b4fe","value":{"mode":"simple","value":"true"},"name":"image_not_shown","label":"image_not_shown","varType":"script","category":"vaVars"},"3fe613fc1e3c497b866dbea1751789be":{"id":"3fe613fc1e3c497b866dbea1751789be","name":"record_id","label":"Record_id","defaultValue":"record_id","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":true,"nodeId":"e2e5626f52174aa1a1c42cc3b26031f2","isHidden":false},"3a4af5c1830940bc9a0ab42f9c0a0e89":{"id":"3a4af5c1830940bc9a0ab42f9c0a0e89","name":"record_table","label":"Record_table","defaultValue":"record_table","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":true,"nodeId":"e2e5626f52174aa1a1c42cc3b26031f2","isHidden":false},"359b7209ebe846dc96766ac3a001d6da":{"id":"359b7209ebe846dc96766ac3a001d6da","name":"variables","label":"Variables","defaultValue":"variables","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":false,"nodeId":"e2e5626f52174aa1a1c42cc3b26031f2","isHidden":false}},"goals":{"primary":{"id":"primary","trigger":{"type":"primary"},"name":"primary","applicability":"","description":"","nodes":{"172bfd5b0ab24224bfa1f173d668f9c2":{"id":"172bfd5b0ab24224bfa1f173d668f9c2","stepType":"Start","name":"Start","greetingResponse":{"value":"","mode":"simple"},"applicability":{"mode":"query","value":""}},"f40e55bc28da4a43b16c9d6e99a06103":{"id":"f40e55bc28da4a43b16c9d6e99a06103","stepType":"TerminateGoal","name":"End","confirmationMessage":{"mode":"simple","value":""},"applicability":{"mode":"query","value":""}},"f94ca48fc8ec4fbe94026dc90733505b":{"id":"f94ca48fc8ec4fbe94026dc90733505b","stepType":"ReusableTopic","name":"Search Catalog Item","fields":[],"reusableTopicChoice":"Search Catalog Item","reusableTopicId":"ccaacd71c3a3330012d1758a7ff57ecd","inputs":{"catalogs":{"value":"(function execute() {\n    function getCatalogM2M(portalId) {\n        var gr = new GlideRecord('m2m_sp_portal_catalog');\n        if (gr.isValid()) {\n            gr.addActiveQuery();\n            gr.addQuery('sp_portal', portalId);\n            gr.addQuery('sc_catalog.active', true);\n            gr.orderBy('order');\n            gr.orderBy('sc_catalog.active');\n        }\n        else {\n            gr = new GlideRecord('sp_portal');\n            gr.addQuery('sys_id', portalId);\n        }\n        gr.setWorkflow(false)\n        gr.query();\n        return gr;\n    }\n    var suffix = vaVars.portalName;\n    if (suffix) {\n        var catalogs = \"\";\n        var gr = new GlideRecord('sp_portal');\n        gr.addQuery('url_suffix', suffix);\n        gr.setWorkflow(false)\n        gr.query();\n        gr.next();\n        var portalId = gr.getUniqueValue();\n        vaVars.portalId = portalId;\n        var m2mGR = getCatalogM2M(portalId);\n        if (m2mGR.getRowCount() &gt; 0) {\n            m2mGR.next();\n            catalogs += m2mGR.getValue('sc_catalog');\n            while (m2mGR.next()) {\n                catalogs += ',';\n                catalogs += m2mGR.getValue('sc_catalog')\n\n            }\n        }\n        return catalogs;\n    }\n    return '';\n})()\n","mode":"script","type":"String"},"query_term":{"value":"(function execute() {\n    if (vaVars.search_catalogitem != '' &amp;&amp; !vaVars.search_again)\n        return vaVars.search_catalogitem\n\n    if (vaVars.search_hardware != '')\n        return vaVars.search_hardware\n    else if (vaVars.search_software != '')\n        return vaVars.search_software\n    else if (vaInputs.search != '')\n        return vaInputs.search\n\n})()\n","mode":"script","type":"String"},"result_limit":{"value":[{"type":"paragraph","children":[{"text":""},{"text":"5"},{"text":""}]}],"mode":"simple","type":"String"}},"outputs":[{"id":"3bc13a7c49a94b79a2cb373ad2ea3b12","value":"catalog_item_id","mapping":"catalog_item_id","preventDisable":true},{"id":"652748f47460441981fdd686c59fbd28","value":"item_type","mapping":"item_type","preventDisable":false},{"id":"12a237c5856947aab4a38e8c32ed7eb1","value":"is_conversational","mapping":"is_conversational","preventDisable":true}],"variableIds":["3bc13a7c49a94b79a2cb373ad2ea3b12","652748f47460441981fdd686c59fbd28","12a237c5856947aab4a38e8c32ed7eb1"],"outdatedNote":false,"applicability":{"mode":"script","value":"(function execute() {\n    return vaVars.search_again || !vaVars.catalog_item_id;\n})()\n"},"loading":false},"a60fba743f2e433195227516c895e622":{"id":"a60fba743f2e433195227516c895e622","stepType":"Decision","name":"Decision"},"13beab0ccae84c05bae1a34314d2a43c":{"id":"13beab0ccae84c05bae1a34314d2a43c","stepType":"TextOutput","name":"Try Again","value":[{"value":[{"type":"paragraph","children":[{"text":"OK, let's try again."}]}],"mode":"simple"}],"applicability":{"value":"","mode":"query"},"secure":false},"c525cd724b824ce99008c0baf5e85e2c":{"id":"c525cd724b824ce99008c0baf5e85e2c","stepType":"Decision","name":"Decision"},"c6166107c68c4a8fae4fd022790af17a":{"id":"c6166107c68c4a8fae4fd022790af17a","stepType":"LinkOutput","name":"Link Output","url":{"value":"(function execute() {\n    var item = new sn_sc.CatItem(vaInputs.catalog_item_id);\n\n    if (item &amp;&amp; item.getRecordClass() === \"sc_cat_item_guide\")\n        return vaVars.baseUri + vaVars.portalName + '?id=sc_cat_item_guide&amp;sys_id=' + vaInputs.catalog_item_id + '&amp;referrer=va';\n    \n    return vaVars.baseUri + vaVars.portalName + '?id=sc_cat_item&amp;sys_id=' + vaInputs.catalog_item_id + '&amp;referrer=va';\n})()","mode":"script"},"label":{"value":"(function execute() {\n    var item = new sn_sc.CatItem(vaInputs.catalog_item_id);\n    if (item) {\n        var catItemJson = item.read({\n            'name' : ''\n        }, false);\n        return catItemJson.name || '';\n    }\n    return '';\n})()\n","mode":"script"},"header":{"value":[{"type":"paragraph","children":[{"text":"Use the link below to submit your request:"}]}],"mode":"simple"},"applicability":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run\n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n       return applicability;\n    */\n    return vaInputs.catalog_item_id != '-1';\n})()\n"},"linkType":"single","introMsg":{"value":"","mode":"simple"},"listOfLinks":""},"e2e5626f52174aa1a1c42cc3b26031f2":{"id":"e2e5626f52174aa1a1c42cc3b26031f2","stepType":"ReusableTopic","name":"Request Catalog Item","fields":[],"reusableTopicChoice":"Request Catalog Item","reusableTopicId":"a39acd71c3a3330012d1758a7ff57eb6","inputs":{"catalog_item_id":{"value":"(function execute() {\n\n    if (vaVars.catalog_item_id == '') {\n        return vaInputs.catalog_item_id.toString()\n    }\n\n    else\n        return vaVars.catalog_item_id.toString();\n\n})()\n","mode":"script","type":"String"},"execute_contextual_search":{"value":[{"type":"paragraph","children":[{"text":""},{"text":"false"},{"text":""}]}],"mode":"simple","type":"String"},"confirm_catalog_item":{"value":[{"type":"paragraph","children":[{"text":""},{"text":"true"},{"text":""}]}],"mode":"simple","type":"String"},"show_end_state_card":{"value":"false","mode":"simple","type":"True/False"}},"outputs":[{"id":"3fe613fc1e3c497b866dbea1751789be","value":"record_id","mapping":"record_id","preventDisable":true},{"id":"3a4af5c1830940bc9a0ab42f9c0a0e89","value":"record_table","mapping":"record_table","preventDisable":true},{"id":"359b7209ebe846dc96766ac3a001d6da","value":"variables","mapping":"variables","preventDisable":false}],"variableIds":["3fe613fc1e3c497b866dbea1751789be","3a4af5c1830940bc9a0ab42f9c0a0e89","359b7209ebe846dc96766ac3a001d6da"],"outdatedNote":false,"applicability":{"value":"","mode":"query"},"loading":false},"f8244c027bcb4790b2f8b07021e5609a":{"id":"f8244c027bcb4790b2f8b07021e5609a","stepType":"Decision","name":"Decision"},"f0f4e2fa29484f2a9a8492ab6c4a6394":{"id":"f0f4e2fa29484f2a9a8492ab6c4a6394","stepType":"TextOutput","name":"Request Complete Message","value":[{"value":[{"type":"paragraph","children":[{"text":""},{"text":"Your request has been submitted. Here are the details:"},{"text":""}]}],"mode":"simple"}],"applicability":{"value":"","mode":"query"},"secure":false},"fa7624e5fc354eaaadd75435e75fb360":{"id":"fa7624e5fc354eaaadd75435e75fb360","stepType":"Decision","name":"Decision"},"8ef9ef7954204f1e950d997401e98751":{"stepType":"ChoicePrompt","name":"Search Again","prompt":{"value":[{"type":"paragraph","children":[{"text":"Would you like to keep searching?"}]}],"mode":"simple"},"confirmMessage":{"value":"","mode":"simple"},"acknowledgeMsg":{"value":"","mode":"simple"},"applicability":{"mode":"script","value":"(function execute() {\n       return !vaVars.query_search;\n})()\n"},"optional":false,"defaultValue":{"value":"","mode":"simple"},"variableId":"716ae74be12647f19b9e3c96d4214320","id":"8ef9ef7954204f1e950d997401e98751","withNluUserInput":true,"skipIfFulfilled":true,"entity":{"id":"","label":""},"skippable":{"value":"","mode":"query"},"cardMetadata":{"mode":"card","metadataScript":"","cardTemplate":"","cardFields":{},"cardDefinition":{}},"hasCardHeader":false},"3fa5963041114e4890a62ffdbcadfe2a":{"id":"3fa5963041114e4890a62ffdbcadfe2a","stepType":"TextOutput","name":"Item not found","value":[{"value":[{"type":"paragraph","children":[{"text":""},{"text":"I couldn't find any item that matches your search query"},{"text":""}]}],"mode":"simple"}],"applicability":{"value":"","mode":"query"},"secure":false},"e7dc54a19e114f058efe7659ae9737b8":{"id":"e7dc54a19e114f058efe7659ae9737b8","stepType":"Component","name":"No Deflection","fields":[],"reusableTopicId":"7fb4ca055303201033cdddeeff7b12b3","reusableTopicChoice":"Deflection","sourceType":"TOPIC_BLOCK","loading":false,"applicability":{"value":"","mode":"query"},"inputs":{"deflection_configuration":{"value":"5292005253213010000dddeeff7b126c","mode":"string","type":"Reference","table":"ssa_deflection_configuration"},"deflection_pattern":{"value":"9ee3409253213010000dddeeff7b123b","mode":"string","type":"Reference","table":"ssa_deflection_pattern"},"activity_table":{"value":"","mode":"simple","type":"String"},"activity_ids":{"value":"","mode":"simple","type":"String"}},"outputs":[],"outdatedNote":false,"variableIds":[]},"5a5838d2fef141fa8b95d8f939728bea":{"id":"5a5838d2fef141fa8b95d8f939728bea","stepType":"Component","name":"Deflection: Request Complete","fields":[],"reusableTopicId":"7fb4ca055303201033cdddeeff7b12b3","reusableTopicChoice":"Deflection","sourceType":"TOPIC_BLOCK","loading":false,"applicability":{"value":"","mode":"query"},"inputs":{"deflection_configuration":{"value":"5292005253213010000dddeeff7b126c","mode":"string","type":"Reference","table":"ssa_deflection_configuration"},"deflection_pattern":{"value":"f063885253213010000dddeeff7b1221","mode":"string","type":"Reference","table":"ssa_deflection_pattern"},"activity_table":{"value":[{"type":"paragraph","children":[{"text":""},{"type":"datapill","dataPill":{"value":"{{vaInputs.record_table}}","displayValue":"Input Variables➛Record_table"},"children":[{"text":""}]},{"text":""}]}],"mode":"string","type":"String"},"activity_ids":{"value":[{"type":"paragraph","children":[{"text":""},{"type":"datapill","dataPill":{"value":"{{vaInputs.record_id}}","displayValue":"Input Variables➛Record_id"},"children":[{"text":""}]},{"text":""}]}],"mode":"string","type":"String"}},"outputs":[],"outdatedNote":false,"variableIds":[]},"a7615c5032d3477497557fadf592c27e":{"id":"a7615c5032d3477497557fadf592c27e","stepType":"Component","name":"Deflection: Link Provided","fields":[],"reusableTopicId":"7fb4ca055303201033cdddeeff7b12b3","reusableTopicChoice":"Deflection","sourceType":"TOPIC_BLOCK","loading":false,"applicability":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run\n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n       return applicability;\n    */\n    return vaInputs.catalog_item_id != '-1';\n})()\n"},"inputs":{"deflection_configuration":{"value":"5292005253213010000dddeeff7b126c","mode":"string","type":"Reference","table":"ssa_deflection_configuration"},"deflection_pattern":{"value":"6eb34c5253213010000dddeeff7b12be","mode":"string","type":"Reference","table":"ssa_deflection_pattern"},"activity_table":{"value":"","mode":"simple","type":"String"},"activity_ids":{"value":"","mode":"simple","type":"String"}},"outputs":[],"outdatedNote":false,"variableIds":[]},"63d00869ba424d75b94fd2b9a769e8d7":{"id":"63d00869ba424d75b94fd2b9a769e8d7","name":"Set search term","script":"(function execute() {\n\n    vaVars.search = vaInputs.search.toString();\n    vaVars.search_catalogitem = vaInputs.search_catalogitem;\n    vaVars.search_hardware = vaInputs.search_hardware;\n    vaVars.search_software = vaInputs.search_software;\n\n    if (vaInputs.search != ''){\n        vaVars.direct_search = true;\n        return;\n    }\n        \n\n    if (vaContext.getRequesterLang() == 'en') {\n        var gr = new GlideRecord('sc_cat_item');\n        gr.addActiveQuery();\n        gr.addQuery('name', vaInputs.search_catalogitem);\n        gr.query();\n\n        while (gr.next()) {\n            vaVars.catalog_item_id = gr.getValue('sys_id');\n            vaInputs.catalog_item_id = vaVars.catalog_item_id;\n        }\n        \n    } else {\n\n        var gr = new GlideRecord('sys_translated_text');\n        \n        gr.addQuery('value', vaInputs.search_catalogitem);\n        gr.addQuery('tablename', 'sc_cat_item');\n        gr.addQuery('language', vaContext.getRequesterLang())\n        gr.addQuery('fieldname', 'name')\n        gr.query();\n\n        while (gr.next()) {\n            var gr2 = new GlideRecord('sc_cat_item');\n            gr2.addActiveQuery();\n            gr2.addQuery('sys_id', gr.getValue('documentkey'));\n            gr2.query();\n            if (gr2.next()) {\n                vaVars.catalog_item_id = gr.getValue('documentkey');\n                vaInputs.catalog_item_id = vaVars.catalog_item_id;\n            }\n        }\n    }\n\n    if (vaVars.search_catalogitem != null) {\n        if (vaVars.search_hardware == '' &amp;&amp; vaVars.search_software == '')\n            vaVars.hardware_software_entity_mapped = false;\n\n        else\n            vaVars.hardware_software_entity_mapped = true;\n    }\n})()\n","stepType":"ScriptAction","applicability":{"mode":"query","value":""}},"e2e0796218e941cd83cd5abca3b711ce":{"id":"e2e0796218e941cd83cd5abca3b711ce","stepType":"ScriptOutput","name":"Submitted Request Record","output_type":"single_part","script":"(function execute() {\n    \n    var title = '';\n    var subtitle = '';\n    var fields = [];\n\n    var gr = new GlideRecord(vaVars.record_table);\n    gr.addQuery('sys_id',vaVars.record_id);\n    gr.query();\n    title = gr.getClassDisplayValue();\n    if(gr.next()){\n        subtitle = gr.getValue('task_effective_number').toString();\n        if (gr.isValidField('short_description')) {\n            fields.push({\n                \"fieldLabel\": gr.getElement('short_description').getLabel(),\n                \"fieldValue\": gr.getDisplayValue('short_description').toString()\n            });\n        }\n        if (gr.isValidField('state')) {\n            fields.push({\n                \"fieldLabel\": gr.getElement('state').getLabel(),\n                \"fieldValue\": gr.getDisplayValue('state').toString()\n            });\n        }\n    }\n    \n    var card_data = JSON.stringify({\n            \"title\":title,\n            \"subtitle\":subtitle,\n            \"fields\":fields,\n            \"url\":vaVars.recordLink.toString()\n      });\n    return vaSystem.renderCard(\"Card\", card_data); \n})()\n","applicability":{"value":"","mode":"query"}},"44a9276364a947d980cdc71ace4b8623":{"id":"44a9276364a947d980cdc71ace4b8623","name":"Check if Item is supported by VA?","script":"(function execute() {\n    vaVars.catalog_item_id = vaInputs.catalog_item_id;\n    vaVars.is_conversational = new sn_sc.CatalogConversationHelper().hasVASupport(vaVars.catalog_item_id.toString());\n    vaInputs.is_conversational = vaVars.is_conversational;\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"0f025be1426740e28805367836daeffa":{"id":"0f025be1426740e28805367836daeffa","stepType":"Prompt","name":"Search","prompt":{"value":[{"type":"paragraph","children":[{"text":"What are you looking for?"}]}],"mode":"simple"},"confirmMessage":{"value":"","mode":"simple"},"acknowledgeMsg":{"value":"","mode":"simple"},"applicability":{"value":"vaInputs.search_catalogitemISEMPTY^vaInputs.search_hardwareISEMPTY^vaInputs.search_softwareISEMPTY^NQvaInputs.search_againISNOTEMPTY","mode":"query"},"skippable":{"value":"","mode":"query"},"defaultValue":{"value":"","mode":"simple"},"withNluUserInput":false,"skipIfFulfilled":false,"variableId":"6c6abd9d000447b39b032fc6135411ad","inputType":{"format":"Text","script":""}},"e6b8aebb2f6b443c93dccf0a12c47723":{"id":"e6b8aebb2f6b443c93dccf0a12c47723","stepType":"Prompt","name":"Search Software","prompt":{"value":[{"type":"paragraph","children":[{"text":"What are you looking for?"}]}],"mode":"simple"},"confirmMessage":{"value":"","mode":"simple"},"acknowledgeMsg":{"value":"","mode":"simple"},"applicability":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run\n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n       return applicability;\n    */\n    return false;\n})()\n"},"skippable":{"mode":"query","value":""},"defaultValue":{"value":"","mode":"simple"},"withNluUserInput":true,"skipIfFulfilled":true,"variableId":"9d168acb8e12422ca873b7d38f6de0df","inputType":{"format":"Text","script":""}},"0e55b45e8fc64b48b6e12a813eafa8ca":{"id":"0e55b45e8fc64b48b6e12a813eafa8ca","stepType":"Prompt","name":"Search Hardware","prompt":{"value":[{"type":"paragraph","children":[{"text":"What are you looking for?"}]}],"mode":"simple"},"confirmMessage":{"value":"","mode":"simple"},"acknowledgeMsg":{"value":"","mode":"simple"},"applicability":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run\n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n       return applicability;\n    */\n    return false;\n})()\n"},"skippable":{"mode":"query","value":""},"defaultValue":{"value":"","mode":"simple"},"withNluUserInput":true,"skipIfFulfilled":true,"variableId":"802c4cb6309e4d399c0cd21a986083e1","inputType":{"format":"Text","script":""}},"423596eca4064f31a096115d497f3baa":{"id":"423596eca4064f31a096115d497f3baa","stepType":"Prompt","name":"Search CatalogItem","prompt":{"value":[{"type":"paragraph","children":[{"text":""},{"text":"What are you looking for?"},{"text":""}]}],"mode":"simple"},"confirmMessage":{"value":"","mode":"simple"},"acknowledgeMsg":{"value":"","mode":"simple"},"applicability":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run\n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n       return applicability;\n    */\n    return false;\n})()\n"},"optional":false,"defaultValue":{"value":"","mode":"simple"},"withNluUserInput":true,"skipIfFulfilled":true,"entity":{"id":"","label":""},"variableId":"5fa577c15ccd415ba8b51117954fc171","skippable":{"value":"","mode":"query"},"inputType":{"format":"Text","script":""}},"d7fbb8358340457d8c3ea0a978f7a7c2":{"id":"d7fbb8358340457d8c3ea0a978f7a7c2","name":"Set variables","script":"(function execute() {\n  vaVars.search_again = true;\n  vaVars.catalog_item_id = '';\n  vaInputs.catalog_item_id = '';\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"c0e09920a7c24ed5b52978d16df11147":{"id":"c0e09920a7c24ed5b52978d16df11147","stepType":"Decision","name":"Decision"},"6137f5a584d14da585568528165c0ecb":{"id":"6137f5a584d14da585568528165c0ecb","name":"Hardware/Software Search","script":"(function execute() {\n    vaVars.hardware_software_entity_searched = true;\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"8ee05bf382a84b7c96a61db2efc3d829":{"id":"8ee05bf382a84b7c96a61db2efc3d829","name":"Set variables","script":"(function execute() {\n    vaInputs.search_catalogitem = '';\n    vaInputs.search_hardware = '';\n    vaInputs.search_software = '';\n    vaVars.search_catalogitem = '';\n    vaVars.search_hardware = '';\n    vaVars.search_software = '';\n    vaInputs.catalog_item_id = '';\n    vaVars.catalog_item_id = '';\n    vaVars.query_search = true;\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"d9a652e2f4c444cdbb4fe22d63ef6b17":{"id":"d9a652e2f4c444cdbb4fe22d63ef6b17","stepType":"Decision","name":"Query search?"},"1109a39495e64c2c87ce41028555f6e4":{"id":"1109a39495e64c2c87ce41028555f6e4","name":"Get Catalog item details","script":"(function execute() {\n    \n    var catItemObj = new sn_sc.CatItem(vaVars.catalog_item_id);\n    var catItemJson = catItemObj.getItemSummary(false, 'basic');\n    vaVars.image = catItemJson.picture;\n    vaVars.item_title = catItemJson.name;\n\n    var itemJSON = new sn_sc.CatalogConversationHelper().getItem(vaVars.catalog_item_id);\n    vaVars.itemJSON = JSON.stringify(itemJSON);\n})()\n","stepType":"ScriptAction","applicability":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run\n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n       return applicability;\n    */\n    return vaVars.catalog_item_id != '' || vaInputs.catalog_item_id != '';\n})()\n"}},"3765284426684c18a9dcbf6c6607407f":{"id":"3765284426684c18a9dcbf6c6607407f","stepType":"TextOutput","name":"Description","secure":false,"value":[{"value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (!gs.nil(itemJson.description))\n        return gs.getMessage(\"Here are some more details about {0}{1}\", [vaVars.item_title, itemJson.description]);\n})()\n","mode":"script"}],"applicability":{"mode":"script","value":"(function execute() {\n    return vaInputs.catalog_item_id  != '-1';\n})()\n"}},"3130d171233340b1b99a251e9cc07a4f":{"id":"3130d171233340b1b99a251e9cc07a4f","stepType":"TextOutput","name":"Not found","secure":false,"value":[{"value":"(function execute() {\n    if (vaVars.query_search)\n        return gs.getMessage(\"I'm sorry, I wasn't able to find anything that matches this request, but your questions are helping me learn.\");\n    else\n        return gs.getMessage(\"I'm sorry, I wasn't able to find anything that matches this request.\");\n})()\n","mode":"script"}],"applicability":{"mode":"query","value":""}},"34ff08421437476681348746c105813b":{"id":"34ff08421437476681348746c105813b","stepType":"ImageOutput","name":"Image","url":{"value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessageLang(\"hi there {0}\", vaContext.getRequesterLang(), [vaInputs.first_name]);\n       } else {\n           return gs.getMessageLang(\"how are you {0}\", vaContext.getRequesterLang(), [vaInputs.last_name]);\n       }\n    */\n    return vaVars.baseUri + vaVars.image;\n})()\n","mode":"script"},"altText":{"value":"","mode":"simple"},"variableId":"","applicability":{"mode":"script","value":"(function execute() {\n\n    return vaVars.catalog_item_id != '' &amp;&amp; vaInputs.search == '' &amp;&amp; vaVars.image_not_shown;\n    \n})()\n"}},"efecf21e303c44ba85a29899a0300eee":{"id":"efecf21e303c44ba85a29899a0300eee","name":"Set catalog item variables","script":"(function execute() {\n    if(vaInputs.catalog_item_id == null &amp;&amp; vaVars.catalog_item_id != null)\n      vaInputs.catalog_item_id = vaVars.catalog_item_id;\n    else if(vaVars.catalog_item_id == null &amp;&amp; vaInputs.catalog_item_id != null)\n     vaVars.catalog_item_id = vaInputs.catalog_item_id;\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"2542534637294e519cc3f318d30bbeed":{"id":"2542534637294e519cc3f318d30bbeed","stepType":"Decision","name":"Decision"},"e8dedb8eb6b044b19d9d5e5c995389ac":{"id":"e8dedb8eb6b044b19d9d5e5c995389ac","name":"Process end state details","script":"(function execute() {\n    var tableName = vaInputs.record_table.toString();\n    var recordId = vaInputs.record_id.toString();\n\n    vaVars.record_table = tableName;\n    vaVars.record_id = recordId;\n\n    var gr = new GlideRecord(tableName);\n    gr.addQuery('sys_id', recordId);\n    gr.query();\n\n    if (gr.next()) {\n        vaVars.isTaskBasedTable = !!(gr.parent != null &amp;&amp; gr.parent.getTableName() == 'task')\n    }\n\n\n    var pageId = 'form';\n    if (vaVars.isTaskBasedTable)\n        pageId = 'ticket';\n\n    var link = '';\n    var screenId = '';\n    if (vaVars.portalName === 'mesp') {\n        var mobileDLink = new global.MobileDeepLinkGenerator('request');\n        if (tableName == 'sc_req_item')\n            screenId = '7516f9d787232300e0ef0cf888cb0b4d';\n        else if (tableName == 'sc_request')\n            screenId = '276dd3edb79033001befcd58de11a9c7';\n        else if (tableName == 'incident')\n            screenId = 'ebb94d9c0f2033001befa68ca8767e4e';\n        else\n            screenId = 'd39eb2db87772300e0ef0cf888cb0bcb';\n\n        link = mobileDLink.getFormScreenLink(screenId, tableName, recordId);\n    } else\n        link = vaVars.baseUri + vaVars.portalName + \"?id=\" + pageId + \"&amp;table=\" + tableName + \"&amp;sys_id=\" + recordId;\n\n    vaVars.recordLink = link;\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"85f2c796fd0b4abd8698cd5357a85577":{"id":"85f2c796fd0b4abd8698cd5357a85577","stepType":"Decision","name":"Decision"},"8b9f5cde3f494a0da1c8f333b512c079":{"id":"8b9f5cde3f494a0da1c8f333b512c079","stepType":"LinkOutput","name":"Submitted record link","url":{"value":[{"type":"paragraph","children":[{"text":""},{"type":"datapill","dataPill":{"value":"{{vaVars.recordLink}}","displayValue":"Script Variables➛recordLink"},"children":[{"text":""}]},{"text":""}]}],"mode":"simple"},"label":{"value":[{"type":"paragraph","children":[{"text":"Click here to view the created record"}]}],"mode":"simple"},"header":{"value":[{"type":"paragraph","children":[{"text":"Your request has been submitted"}]}],"mode":"simple"},"applicability":{"value":"","mode":"query"},"linkType":"single","introMsg":{"value":"","mode":"simple"},"listOfLinks":""},"3abeb5e6dffe43999cf573059894e694":{"id":"3abeb5e6dffe43999cf573059894e694","stepType":"ImageOutput","name":"Image","url":{"value":"(function execute() {\n    return vaVars.baseUri + vaVars.image.toString();\n})()\n","mode":"script"},"altText":{"value":"","mode":"simple"},"variableId":"","applicability":{"mode":"script","value":"(function execute() {\n    return vaInputs.search == '' &amp;&amp; vaVars.catalog_item_id != '' &amp;&amp; vaVars.image_not_shown;\n})()\n"}},"e9f57bdb0b2847efb672ff374e06944f":{"id":"e9f57bdb0b2847efb672ff374e06944f","name":"Set variables","script":"(function execute() {\n    vaVars.image_not_shown=false;\n})()\n","stepType":"ScriptAction","applicability":{"mode":"script","value":"(function execute() {\n\n    return vaVars.catalog_item_id != '' &amp;&amp; vaInputs.search == '';\n    \n})()\n"}},"97dcb0ccce6840b584df621df14e6cee":{"id":"97dcb0ccce6840b584df621df14e6cee","name":"Set variables","script":"(function execute() {\n    vaVars.image_not_shown=false;\n})()\n","stepType":"ScriptAction","applicability":{"mode":"script","value":"(function execute() {\n    return vaInputs.search == '' &amp;&amp; vaVars.catalog_item_id != '';\n})()\n"}}},"edges":[{"id":"0689b95e0a4c45b3a32830a12d4e23b1","edgeType":"Branch","source":"c0e09920a7c24ed5b52978d16df11147","target":"2542534637294e519cc3f318d30bbeed","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return !vaVars.hardware_software_entity_searched &amp;&amp; !vaVars.direct_search;\n})()\n"},"label":"No"},{"id":"95aae0e97c4a43419b0537c36224d568","edgeType":"Branch","source":"c0e09920a7c24ed5b52978d16df11147","target":"8ee05bf382a84b7c96a61db2efc3d829","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    \n    return vaVars.direct_search || vaVars.hardware_software_entity_searched;\n})()\n"},"label":"Yes"},{"id":"7c6d2a272af44297bd800c7da898283e","edgeType":"Edge","source":"efecf21e303c44ba85a29899a0300eee","target":"a60fba743f2e433195227516c895e622","sourcePort":"","targetPort":""},{"id":"103b2b778cac4de68afc630606318976","edgeType":"Branch","source":"a60fba743f2e433195227516c895e622","target":"3fa5963041114e4890a62ffdbcadfe2a","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return vaInputs.catalog_item_id == '' || vaVars.catalog_item_id == null;\n})()\n"},"label":"Didn't recieve an itemID"},{"id":"27168773a67d42299726efe8d912ec8d","edgeType":"Branch","source":"a60fba743f2e433195227516c895e622","target":"44a9276364a947d980cdc71ace4b8623","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n   \n   return (vaVars.catalog_item_id != null &amp;&amp; vaInputs.catalog_item_id != \"-1\");\n   \n})()\n"},"label":"Recieved an ItemID"},{"id":"fe0513b93622487b903c5fcfce5c54ff","edgeType":"Edge","source":"0f025be1426740e28805367836daeffa","target":"63d00869ba424d75b94fd2b9a769e8d7","sourcePort":"","targetPort":""},{"id":"b3678655ad2145719af7f33cf6724ef2","edgeType":"Branch","source":"c525cd724b824ce99008c0baf5e85e2c","target":"34ff08421437476681348746c105813b","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n   \n        return (!vaVars.is_conversational || !vaInputs.is_conversational);\n\n})()\n"},"label":"Not Supported"},{"id":"10d4ea343f294f25af889adf38d6f5d7","edgeType":"Edge","source":"44a9276364a947d980cdc71ace4b8623","target":"1109a39495e64c2c87ce41028555f6e4","sourcePort":"","targetPort":""},{"id":"525bed984adb4935a6967fd3ceff7999","edgeType":"Edge","source":"1109a39495e64c2c87ce41028555f6e4","target":"c525cd724b824ce99008c0baf5e85e2c","sourcePort":"","targetPort":""},{"id":"6cf7557b3c6d4f489dd70a881c271379","edgeType":"Branch","source":"a60fba743f2e433195227516c895e622","target":"3130d171233340b1b99a251e9cc07a4f","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return vaInputs.catalog_item_id == \"-1\";\n})()\n"},"label":"itemIid is -1"},{"id":"3c42bbc5dba14d67aa265bf93b29fcc9","edgeType":"Edge","source":"e7dc54a19e114f058efe7659ae9737b8","target":"f40e55bc28da4a43b16c9d6e99a06103","sourcePort":"","targetPort":""},{"id":"6db9258077dc45db92386690e51057c0","edgeType":"Edge","source":"8ee05bf382a84b7c96a61db2efc3d829","target":"0f025be1426740e28805367836daeffa","sourcePort":"","targetPort":""},{"id":"03d8e3fee0b34722ae84b448349b0291","edgeType":"Edge","source":"6137f5a584d14da585568528165c0ecb","target":"f94ca48fc8ec4fbe94026dc90733505b","sourcePort":"","targetPort":""},{"id":"0eff282efa7245ed99fbc943ac1c05c4","edgeType":"Edge","source":"e2e5626f52174aa1a1c42cc3b26031f2","target":"f8244c027bcb4790b2f8b07021e5609a","sourcePort":"","targetPort":""},{"id":"b2e1495923b3476682aff11da3376c78","edgeType":"Edge","source":"a7615c5032d3477497557fadf592c27e","target":"8ef9ef7954204f1e950d997401e98751","sourcePort":"","targetPort":""},{"id":"969c0c13adc5482fa6a9778109975e1f","edgeType":"Edge","source":"e6b8aebb2f6b443c93dccf0a12c47723","target":"0f025be1426740e28805367836daeffa","sourcePort":"","targetPort":""},{"id":"4d9ab133bc5d4c2081cff2c286de3fef","edgeType":"Edge","source":"0e55b45e8fc64b48b6e12a813eafa8ca","target":"e6b8aebb2f6b443c93dccf0a12c47723","sourcePort":"","targetPort":""},{"id":"e3c26fb3a3224b41ab4e865d68d90cdd","edgeType":"Edge","source":"63d00869ba424d75b94fd2b9a769e8d7","target":"f94ca48fc8ec4fbe94026dc90733505b","sourcePort":"","targetPort":""},{"id":"cb672c048b8c4651bec675f5118b476c","edgeType":"Branch","source":"f8244c027bcb4790b2f8b07021e5609a","target":"8ef9ef7954204f1e950d997401e98751","sourcePort":"","targetPort":"","expression":{"value":"record_idEMPTYSTRING","mode":"query"},"label":"Catalog Request Not Complete"},{"id":"31cb8bfa784c4d459f0280b3b2989eb1","edgeType":"Edge","source":"e2e0796218e941cd83cd5abca3b711ce","target":"5a5838d2fef141fa8b95d8f939728bea","sourcePort":"","targetPort":""},{"id":"9f7cc51b56d343cbac54f5339cde35ff","edgeType":"Branch","source":"f8244c027bcb4790b2f8b07021e5609a","target":"c6166107c68c4a8fae4fd022790af17a","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return !!vaInputs.record_id.getValue() &amp;&amp; vaInputs.record_id.getValue() == '-1';\n})()\n"},"label":"Item has no VA Support"},{"id":"b455b22b04d74718af249a643f202116","edgeType":"Edge","source":"8ef9ef7954204f1e950d997401e98751","target":"fa7624e5fc354eaaadd75435e75fb360","sourcePort":"","targetPort":""},{"id":"2d7f796970d8453f81e44474f75301c4","edgeType":"Edge","source":"3fa5963041114e4890a62ffdbcadfe2a","target":"8ef9ef7954204f1e950d997401e98751","sourcePort":"","targetPort":""},{"id":"60a0e90d68224f39b2884ed565b39ed7","edgeType":"Branch","source":"fa7624e5fc354eaaadd75435e75fb360","target":"e7dc54a19e114f058efe7659ae9737b8","sourcePort":"","targetPort":"","expression":{"value":"vaInputs.search_again=1","mode":"query"},"label":"No"},{"id":"1d2698566f6e45a0b184797884e27947","edgeType":"Edge","source":"5a5838d2fef141fa8b95d8f939728bea","target":"f40e55bc28da4a43b16c9d6e99a06103","sourcePort":"","targetPort":""},{"id":"40c22134571049f5b05df25020f956ee","edgeType":"Edge","source":"c6166107c68c4a8fae4fd022790af17a","target":"a7615c5032d3477497557fadf592c27e","sourcePort":"","targetPort":""},{"id":"d7479396def24c6a8cc89b30ebcede2d","edgeType":"Edge","source":"f0f4e2fa29484f2a9a8492ab6c4a6394","target":"e2e0796218e941cd83cd5abca3b711ce","sourcePort":"","targetPort":""},{"id":"ca763e8e5b464d4aa5dcc306c0313621","edgeType":"Edge","source":"172bfd5b0ab24224bfa1f173d668f9c2","target":"423596eca4064f31a096115d497f3baa","sourcePort":"","targetPort":""},{"id":"f1c59282b0c542b5b6fa59a2b6f48795","edgeType":"Edge","source":"423596eca4064f31a096115d497f3baa","target":"0e55b45e8fc64b48b6e12a813eafa8ca","sourcePort":"","targetPort":""},{"id":"faed7d34cd77415eb359090eaa290bb8","edgeType":"Edge","source":"13beab0ccae84c05bae1a34314d2a43c","target":"d7fbb8358340457d8c3ea0a978f7a7c2","sourcePort":"","targetPort":""},{"id":"52698ef4854a46878f25a056d283a90f","edgeType":"Edge","source":"d7fbb8358340457d8c3ea0a978f7a7c2","target":"c0e09920a7c24ed5b52978d16df11147","sourcePort":"","targetPort":""},{"id":"972d62888f8145b6b054b955372d7da3","edgeType":"Branch","source":"fa7624e5fc354eaaadd75435e75fb360","target":"d9a652e2f4c444cdbb4fe22d63ef6b17","sourcePort":"","targetPort":"","expression":{"value":"vaInputs.search_again=0","mode":"query"},"label":"Yes"},{"id":"7fd36fcd9c514f8f8aad875aa2232e2d","edgeType":"Branch","source":"d9a652e2f4c444cdbb4fe22d63ef6b17","target":"13beab0ccae84c05bae1a34314d2a43c","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    return !vaVars.query_search;\n})()\n"},"label":"No"},{"id":"c3545f818d714f94a4305cacda333e80","edgeType":"Branch","source":"d9a652e2f4c444cdbb4fe22d63ef6b17","target":"e7dc54a19e114f058efe7659ae9737b8","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    return vaVars.query_search;\n})()\n"},"label":"Yes"},{"id":"5586d3b134d54572876085bafc50e25d","edgeType":"Edge","source":"3765284426684c18a9dcbf6c6607407f","target":"c6166107c68c4a8fae4fd022790af17a","sourcePort":"","targetPort":""},{"id":"f5070150d9cf4dbbbe94d99cbd14116a","edgeType":"Edge","source":"3130d171233340b1b99a251e9cc07a4f","target":"8ef9ef7954204f1e950d997401e98751","sourcePort":"","targetPort":""},{"id":"94a415bf69104eed87e9b0b0518c66db","edgeType":"Edge","source":"f94ca48fc8ec4fbe94026dc90733505b","target":"efecf21e303c44ba85a29899a0300eee","sourcePort":"","targetPort":""},{"id":"38b3ef0ac9724008948c8d2a1f625597","edgeType":"Branch","source":"2542534637294e519cc3f318d30bbeed","target":"6137f5a584d14da585568528165c0ecb","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    return vaVars.hardware_software_entity_mapped;\n})()\n"},"label":"Yes"},{"id":"d17cf2dacc344877a908febf4d01cc0b","edgeType":"Branch","source":"2542534637294e519cc3f318d30bbeed","target":"8ee05bf382a84b7c96a61db2efc3d829","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    return !vaVars.hardware_software_entity_mapped;\n})()\n"},"label":"No"},{"id":"59a49a56c5324a6fa34f7fe02bb3acc2","edgeType":"Branch","source":"f8244c027bcb4790b2f8b07021e5609a","target":"e8dedb8eb6b044b19d9d5e5c995389ac","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return !!vaInputs.record_id.getValue() &amp;&amp; vaInputs.record_id.getValue() != '-1';\n})()\n"},"label":"Catalog Request Complete"},{"id":"daa70e2954d2445a9f3a896c18f1872d","edgeType":"Edge","source":"e8dedb8eb6b044b19d9d5e5c995389ac","target":"85f2c796fd0b4abd8698cd5357a85577","sourcePort":"","targetPort":""},{"id":"39b48d062a01447da9ab0469d2878e55","edgeType":"Branch","source":"85f2c796fd0b4abd8698cd5357a85577","target":"f0f4e2fa29484f2a9a8492ab6c4a6394","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return vaVars.isTaskBasedTable;\n})()\n"},"label":"Task based table"},{"id":"4588a52cca9c43a5abb0e1722b6d981c","edgeType":"Branch","source":"85f2c796fd0b4abd8698cd5357a85577","target":"8b9f5cde3f494a0da1c8f333b512c079","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return !vaVars.isTaskBasedTable;\n})()\n"},"label":"Non-Task based table"},{"id":"c7a7562987a24ebea106027a02ca39b2","edgeType":"Edge","source":"8b9f5cde3f494a0da1c8f333b512c079","target":"5a5838d2fef141fa8b95d8f939728bea","sourcePort":"","targetPort":""},{"id":"5e1e0a38a4d74764bd295c0794787ae9","edgeType":"Branch","source":"c525cd724b824ce99008c0baf5e85e2c","target":"3abeb5e6dffe43999cf573059894e694","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return (vaVars.is_conversational || vaInputs.is_conversational);\n})()\n"},"label":"Is Supported"},{"id":"459fef0dadef4b71aacf46a575abf7e5","edgeType":"Edge","source":"34ff08421437476681348746c105813b","target":"e9f57bdb0b2847efb672ff374e06944f","sourcePort":"","targetPort":""},{"id":"afab5617b6a14005aa05ad3976305738","edgeType":"Edge","source":"e9f57bdb0b2847efb672ff374e06944f","target":"3765284426684c18a9dcbf6c6607407f","sourcePort":"","targetPort":""},{"id":"1ed4c187f6b241cb943c2c0444fdc62f","edgeType":"Edge","source":"3abeb5e6dffe43999cf573059894e694","target":"97dcb0ccce6840b584df621df14e6cee","sourcePort":"","targetPort":""},{"id":"84d6e896887648c4bd730ab5e7416f72","edgeType":"Edge","source":"97dcb0ccce6840b584df621df14e6cee","target":"e2e5626f52174aa1a1c42cc3b26031f2","sourcePort":"","targetPort":""}]}}}</graph>
        <key_phrases>Submit a Request,Submit a request (Deprecated),Submit a request,request,buy,item,catalog,purchase,order,computer,phone,need,require,order software,install software,request software</key_phrases>
        <library>false</library>
        <live_agent>false</live_agent>
        <name>Submit a Request</name>
        <nlu_intent/>
        <nlu_intent_label/>
        <nlu_model/>
        <nlu_model_label/>
        <nlu_provider/>
        <palette_label/>
        <roles/>
        <root_topic_id>375155b0db3453005dd0dfea5e961934</root_topic_id>
        <secure_custom_input_control>false</secure_custom_input_control>
        <source_topic_id>375155b0db3453005dd0dfea5e961934</source_topic_id>
        <sys_class_name>sys_cb_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-06-01 08:03:21</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>baf60f1b97072110c0e539000153af6d</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Submit a Request</sys_name>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_policy/>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_update_name>sys_cb_topic_baf60f1b97072110c0e539000153af6d</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-06-01 08:03:21</sys_updated_on>
        <triggerable_by_notification>false</triggerable_by_notification>
        <type>STANDARD</type>
    </sys_cb_topic>
    <sys_update_version action="INSERT_OR_UPDATE">
        <action>DELETE</action>
        <application display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</application>
        <file_path/>
        <instance_id>f9324c87db7da05052cec5970596198e</instance_id>
        <instance_name>dev105571</instance_name>
        <name>sys_cb_topic_baf60f1b97072110c0e539000153af6d</name>
        <payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_topic"><sys_cb_topic action="INSERT_OR_UPDATE"><applicability/><applicability_mode>query</applicability_mode><autopilot_topic>false</autopilot_topic><category>3efd22da0b203300a1b16c2367673a10</category><channels/><connect_queue/><description>ITSM conversation for searching and submitting catalog items</description><expose_on_palette>false</expose_on_palette><flexible_conversation_switching>false</flexible_conversation_switching><graph>{"graph_api_version":"1.0.42","variables":{"3178087161664b1c91034430180a884a":{"id":"3178087161664b1c91034430180a884a","name":"LiveAgent_application","value":{"mode":"simple","value":"itsm"},"varType":"script","label":"LiveAgent_application","category":"vaVars"},"50093fb22a304ccba6e32393e38186ec":{"id":"50093fb22a304ccba6e32393e38186ec","value":{"mode":"script","value":"(function execute() {\n    return gs.getProperty('glide.servlet.uri');\n})()\n"},"name":"baseUri","label":"baseUri","varType":"script","category":"vaVars"},"d2549e728dca42a2abfc89fa1d463df8":{"id":"d2549e728dca42a2abfc89fa1d463df8","value":{"mode":"script","value":"(function execute() {\n    if (vaContext.deviceType == 'ios' || vaContext.deviceType == 'android')\n        return 'mesp';\n\n    return gs.getProperty('sn_itsm_va.com.snc.itsm.virtualagent.portal_url');\n})()\n"},"name":"portalName","label":"portalName","varType":"script","category":"vaVars"},"5fa577c15ccd415ba8b51117954fc171":{"id":"5fa577c15ccd415ba8b51117954fc171","name":"search_catalogitem","label":"Search CatalogItem","varType":"string","category":"vaInputs","secure":false,"encryptionSalt":{"value":"MTYyNDI5NTQxMTYxMSBWQSBEZXNpZ25lciBpcyBhd2Vzb21l","mode":"simple"},"encryptionHashFunction":"SHA-256","nodeId":"423596eca4064f31a096115d497f3baa","isHidden":false},"23c8fae5ff9343619f5ed999a2e3f660":{"category":"vaInputs","id":"23c8fae5ff9343619f5ed999a2e3f660","label":"User","name":"user","table":"sys_user","varType":"reference"},"716ae74be12647f19b9e3c96d4214320":{"id":"716ae74be12647f19b9e3c96d4214320","name":"search_again","label":"Search Again","varType":"choice","choices":[{"label":"Yes","value":"0"},{"label":"No","value":"1","checked":true}],"category":"vaInputs","nodeId":"8ef9ef7954204f1e950d997401e98751","isHidden":false},"802c4cb6309e4d399c0cd21a986083e1":{"id":"802c4cb6309e4d399c0cd21a986083e1","name":"search_hardware","label":"Search Hardware","varType":"string","secure":false,"category":"vaInputs","encryptionHashFunction":"SHA-256","encryptionSalt":{"value":"MTYzMTY5MjI2Mzk0MCBWQSBEZXNpZ25lciBpcyBhd2Vzb21l","mode":"simple"},"nodeId":"0e55b45e8fc64b48b6e12a813eafa8ca","isHidden":false},"36698db564254e35b2f27453803c3314":{"id":"36698db564254e35b2f27453803c3314","value":{"mode":"simple","value":""},"name":"catalog_item_id","label":"catalog_item_id","varType":"script","category":"vaVars"},"04f246b307c340e08d55d6d5cd31f107":{"id":"04f246b307c340e08d55d6d5cd31f107","value":{"value":"","mode":"simple"},"name":"is_conversational","label":"is_conversational","varType":"script","category":"vaVars"},"9d168acb8e12422ca873b7d38f6de0df":{"id":"9d168acb8e12422ca873b7d38f6de0df","name":"search_software","label":"Search Software","varType":"string","secure":false,"category":"vaInputs","encryptionHashFunction":"SHA-256","encryptionSalt":{"value":"MTYzNzA2MzQ1Mjg3MSBWQSBEZXNpZ25lciBpcyBhd2Vzb21l","mode":"simple"},"nodeId":"e6b8aebb2f6b443c93dccf0a12c47723","isHidden":false},"6c6abd9d000447b39b032fc6135411ad":{"id":"6c6abd9d000447b39b032fc6135411ad","name":"search","label":"Search","varType":"string","secure":false,"category":"vaInputs","encryptionHashFunction":"SHA-256","encryptionSalt":{"value":"MTYzNzA2MzQ2NjM1NyBWQSBEZXNpZ25lciBpcyBhd2Vzb21l","mode":"simple"},"nodeId":"0f025be1426740e28805367836daeffa","isHidden":false},"501a1f11c14d43c788bbf7a0502978af":{"id":"501a1f11c14d43c788bbf7a0502978af","value":{"value":"","mode":"simple"},"name":"search_catalogitem","label":"search_catalogitem","varType":"script","category":"vaVars"},"41a077d83f2e47af8e0469f1743c94c9":{"id":"41a077d83f2e47af8e0469f1743c94c9","value":{"value":"","mode":"simple"},"name":"search_hardware","label":"search_hardware","varType":"script","category":"vaVars"},"591df76ec7aa4bd3badd848cc6c58926":{"id":"591df76ec7aa4bd3badd848cc6c58926","value":{"value":"","mode":"simple"},"name":"search_software","label":"search_software","varType":"script","category":"vaVars"},"e3f4fd88895e443fae3a488937610a93":{"id":"e3f4fd88895e443fae3a488937610a93","value":{"mode":"simple","value":"false"},"name":"search_again","label":"search_again","varType":"script","category":"vaVars"},"b5e382a1208d471fbdc70cf962456907":{"id":"b5e382a1208d471fbdc70cf962456907","value":{"mode":"simple","value":"false"},"name":"hardware_software_entity_searched","label":"hardware_software_entity_searched","varType":"script","category":"vaVars"},"ffa0163d13ed48f892546bd7ae88023e":{"id":"ffa0163d13ed48f892546bd7ae88023e","value":{"mode":"simple","value":"false"},"name":"query_search","label":"query_search","varType":"script","category":"vaVars"},"fd8f4493ad3a463eb020c8a1b35484b7":{"id":"fd8f4493ad3a463eb020c8a1b35484b7","value":{"value":"","mode":"simple"},"name":"image","label":"image","varType":"script","category":"vaVars"},"6d7ea358b1c0430da99c2161ad1a9911":{"id":"6d7ea358b1c0430da99c2161ad1a9911","value":{"value":"","mode":"simple"},"name":"item_title","label":"item_title","varType":"script","category":"vaVars"},"fbc8ddbd5fc14ed8a2a7fbf71f9fa60c":{"id":"fbc8ddbd5fc14ed8a2a7fbf71f9fa60c","value":{"value":"","mode":"simple"},"name":"itemJSON","label":"itemJSON","varType":"script","category":"vaVars"},"514a58602df24355b3e66582a5cb74b6":{"id":"514a58602df24355b3e66582a5cb74b6","value":{"value":"","mode":"simple"},"name":"search","label":"search","varType":"script","category":"vaVars"},"eea7f724b01740499306be846a79b3f0":{"id":"eea7f724b01740499306be846a79b3f0","value":{"mode":"simple","value":"false"},"name":"direct_search","label":"direct_search","varType":"script","category":"vaVars"},"3bc13a7c49a94b79a2cb373ad2ea3b12":{"id":"3bc13a7c49a94b79a2cb373ad2ea3b12","name":"catalog_item_id","label":"Catalog_item_id","defaultValue":"catalog_item_id","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":true,"nodeId":"f94ca48fc8ec4fbe94026dc90733505b","isHidden":false},"652748f47460441981fdd686c59fbd28":{"id":"652748f47460441981fdd686c59fbd28","name":"item_type","label":"Item_type","defaultValue":"item_type","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":false,"nodeId":"f94ca48fc8ec4fbe94026dc90733505b","isHidden":false},"12a237c5856947aab4a38e8c32ed7eb1":{"id":"12a237c5856947aab4a38e8c32ed7eb1","name":"is_conversational","label":"Is_conversational","defaultValue":"is_conversational","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":true,"nodeId":"f94ca48fc8ec4fbe94026dc90733505b","isHidden":false},"b2ab7447185a4bf988279bd49bc7b9f8":{"id":"b2ab7447185a4bf988279bd49bc7b9f8","value":{"mode":"simple","value":"false"},"name":"hardware_software_entity_mapped","label":"hardware_software_entity_mapped","varType":"script","category":"vaVars"},"6abea22fd49d4b9689bd8d80329ea62a":{"id":"6abea22fd49d4b9689bd8d80329ea62a","value":{"value":"","mode":"simple"},"name":"record_table","label":"record_table","varType":"script","category":"vaVars"},"5b7dce15624649258ebc87a48c0937cc":{"id":"5b7dce15624649258ebc87a48c0937cc","value":{"value":"","mode":"simple"},"name":"record_id","label":"record_id","varType":"script","category":"vaVars"},"4c88bdc29d7246b1a22547a32d68782b":{"id":"4c88bdc29d7246b1a22547a32d68782b","value":{"value":"","mode":"simple"},"name":"recordLink","label":"recordLink","varType":"script","category":"vaVars"},"59b2634a174c4c2cab7db456cae366a2":{"id":"59b2634a174c4c2cab7db456cae366a2","value":{"mode":"simple","value":""},"name":"isTaskBasedTable","label":"isTaskBasedTable","varType":"script","category":"vaVars"},"99f150fc9c794fbbb32fcd3df2a6b4fe":{"id":"99f150fc9c794fbbb32fcd3df2a6b4fe","value":{"mode":"simple","value":"true"},"name":"image_not_shown","label":"image_not_shown","varType":"script","category":"vaVars"},"3fe613fc1e3c497b866dbea1751789be":{"id":"3fe613fc1e3c497b866dbea1751789be","name":"record_id","label":"Record_id","defaultValue":"record_id","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":true,"nodeId":"e2e5626f52174aa1a1c42cc3b26031f2","isHidden":false},"3a4af5c1830940bc9a0ab42f9c0a0e89":{"id":"3a4af5c1830940bc9a0ab42f9c0a0e89","name":"record_table","label":"Record_table","defaultValue":"record_table","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":true,"nodeId":"e2e5626f52174aa1a1c42cc3b26031f2","isHidden":false},"359b7209ebe846dc96766ac3a001d6da":{"id":"359b7209ebe846dc96766ac3a001d6da","name":"variables","label":"Variables","defaultValue":"variables","varType":"string","category":"vaInputs","metadata":{"libraryMappingType":"output"},"preventDisable":false,"nodeId":"e2e5626f52174aa1a1c42cc3b26031f2","isHidden":false}},"goals":{"primary":{"id":"primary","trigger":{"type":"primary"},"name":"primary","applicability":"","description":"","nodes":{"172bfd5b0ab24224bfa1f173d668f9c2":{"id":"172bfd5b0ab24224bfa1f173d668f9c2","stepType":"Start","name":"Start","greetingResponse":{"value":"","mode":"simple"},"applicability":{"mode":"query","value":""}},"f40e55bc28da4a43b16c9d6e99a06103":{"id":"f40e55bc28da4a43b16c9d6e99a06103","stepType":"TerminateGoal","name":"End","confirmationMessage":{"mode":"simple","value":""},"applicability":{"mode":"query","value":""}},"f94ca48fc8ec4fbe94026dc90733505b":{"id":"f94ca48fc8ec4fbe94026dc90733505b","stepType":"ReusableTopic","name":"Search Catalog Item","fields":[],"reusableTopicChoice":"Search Catalog Item","reusableTopicId":"ccaacd71c3a3330012d1758a7ff57ecd","inputs":{"catalogs":{"value":"(function execute() {\n    function getCatalogM2M(portalId) {\n        var gr = new GlideRecord('m2m_sp_portal_catalog');\n        if (gr.isValid()) {\n            gr.addActiveQuery();\n            gr.addQuery('sp_portal', portalId);\n            gr.addQuery('sc_catalog.active', true);\n            gr.orderBy('order');\n            gr.orderBy('sc_catalog.active');\n        }\n        else {\n            gr = new GlideRecord('sp_portal');\n            gr.addQuery('sys_id', portalId);\n        }\n        gr.setWorkflow(false)\n        gr.query();\n        return gr;\n    }\n    var suffix = vaVars.portalName;\n    if (suffix) {\n        var catalogs = \"\";\n        var gr = new GlideRecord('sp_portal');\n        gr.addQuery('url_suffix', suffix);\n        gr.setWorkflow(false)\n        gr.query();\n        gr.next();\n        var portalId = gr.getUniqueValue();\n        vaVars.portalId = portalId;\n        var m2mGR = getCatalogM2M(portalId);\n        if (m2mGR.getRowCount() &gt; 0) {\n            m2mGR.next();\n            catalogs += m2mGR.getValue('sc_catalog');\n            while (m2mGR.next()) {\n                catalogs += ',';\n                catalogs += m2mGR.getValue('sc_catalog')\n\n            }\n        }\n        return catalogs;\n    }\n    return '';\n})()\n","mode":"script","type":"String"},"query_term":{"value":"(function execute() {\n    if (vaVars.search_catalogitem != '' &amp;&amp; !vaVars.search_again)\n        return vaVars.search_catalogitem\n\n    if (vaVars.search_hardware != '')\n        return vaVars.search_hardware\n    else if (vaVars.search_software != '')\n        return vaVars.search_software\n    else if (vaInputs.search != '')\n        return vaInputs.search\n\n})()\n","mode":"script","type":"String"},"result_limit":{"value":[{"type":"paragraph","children":[{"text":""},{"text":"5"},{"text":""}]}],"mode":"simple","type":"String"}},"outputs":[{"id":"3bc13a7c49a94b79a2cb373ad2ea3b12","value":"catalog_item_id","mapping":"catalog_item_id","preventDisable":true},{"id":"652748f47460441981fdd686c59fbd28","value":"item_type","mapping":"item_type","preventDisable":false},{"id":"12a237c5856947aab4a38e8c32ed7eb1","value":"is_conversational","mapping":"is_conversational","preventDisable":true}],"variableIds":["3bc13a7c49a94b79a2cb373ad2ea3b12","652748f47460441981fdd686c59fbd28","12a237c5856947aab4a38e8c32ed7eb1"],"outdatedNote":false,"applicability":{"mode":"script","value":"(function execute() {\n    return vaVars.search_again || !vaVars.catalog_item_id;\n})()\n"},"loading":false},"a60fba743f2e433195227516c895e622":{"id":"a60fba743f2e433195227516c895e622","stepType":"Decision","name":"Decision"},"13beab0ccae84c05bae1a34314d2a43c":{"id":"13beab0ccae84c05bae1a34314d2a43c","stepType":"TextOutput","name":"Try Again","value":[{"value":[{"type":"paragraph","children":[{"text":"OK, let's try again."}]}],"mode":"simple"}],"applicability":{"value":"","mode":"query"},"secure":false},"c525cd724b824ce99008c0baf5e85e2c":{"id":"c525cd724b824ce99008c0baf5e85e2c","stepType":"Decision","name":"Decision"},"c6166107c68c4a8fae4fd022790af17a":{"id":"c6166107c68c4a8fae4fd022790af17a","stepType":"LinkOutput","name":"Link Output","url":{"value":"(function execute() {\n    var item = new sn_sc.CatItem(vaInputs.catalog_item_id);\n\n    if (item &amp;&amp; item.getRecordClass() === \"sc_cat_item_guide\")\n        return vaVars.baseUri + vaVars.portalName + '?id=sc_cat_item_guide&amp;sys_id=' + vaInputs.catalog_item_id + '&amp;referrer=va';\n    \n    return vaVars.baseUri + vaVars.portalName + '?id=sc_cat_item&amp;sys_id=' + vaInputs.catalog_item_id + '&amp;referrer=va';\n})()","mode":"script"},"label":{"value":"(function execute() {\n    var item = new sn_sc.CatItem(vaInputs.catalog_item_id);\n    if (item) {\n        var catItemJson = item.read({\n            'name' : ''\n        }, false);\n        return catItemJson.name || '';\n    }\n    return '';\n})()\n","mode":"script"},"header":{"value":[{"type":"paragraph","children":[{"text":"Use the link below to submit your request:"}]}],"mode":"simple"},"applicability":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run\n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n       return applicability;\n    */\n    return vaInputs.catalog_item_id != '-1';\n})()\n"},"linkType":"single","introMsg":{"value":"","mode":"simple"},"listOfLinks":""},"e2e5626f52174aa1a1c42cc3b26031f2":{"id":"e2e5626f52174aa1a1c42cc3b26031f2","stepType":"ReusableTopic","name":"Request Catalog Item","fields":[],"reusableTopicChoice":"Request Catalog Item","reusableTopicId":"a39acd71c3a3330012d1758a7ff57eb6","inputs":{"catalog_item_id":{"value":"(function execute() {\n\n    if (vaVars.catalog_item_id == '') {\n        return vaInputs.catalog_item_id.toString()\n    }\n\n    else\n        return vaVars.catalog_item_id.toString();\n\n})()\n","mode":"script","type":"String"},"execute_contextual_search":{"value":[{"type":"paragraph","children":[{"text":""},{"text":"false"},{"text":""}]}],"mode":"simple","type":"String"},"confirm_catalog_item":{"value":[{"type":"paragraph","children":[{"text":""},{"text":"true"},{"text":""}]}],"mode":"simple","type":"String"},"show_end_state_card":{"value":"false","mode":"simple","type":"True/False"}},"outputs":[{"id":"3fe613fc1e3c497b866dbea1751789be","value":"record_id","mapping":"record_id","preventDisable":true},{"id":"3a4af5c1830940bc9a0ab42f9c0a0e89","value":"record_table","mapping":"record_table","preventDisable":true},{"id":"359b7209ebe846dc96766ac3a001d6da","value":"variables","mapping":"variables","preventDisable":false}],"variableIds":["3fe613fc1e3c497b866dbea1751789be","3a4af5c1830940bc9a0ab42f9c0a0e89","359b7209ebe846dc96766ac3a001d6da"],"outdatedNote":false,"applicability":{"value":"","mode":"query"},"loading":false},"f8244c027bcb4790b2f8b07021e5609a":{"id":"f8244c027bcb4790b2f8b07021e5609a","stepType":"Decision","name":"Decision"},"f0f4e2fa29484f2a9a8492ab6c4a6394":{"id":"f0f4e2fa29484f2a9a8492ab6c4a6394","stepType":"TextOutput","name":"Request Complete Message","value":[{"value":[{"type":"paragraph","children":[{"text":""},{"text":"Your request has been submitted. Here are the details:"},{"text":""}]}],"mode":"simple"}],"applicability":{"value":"","mode":"query"},"secure":false},"fa7624e5fc354eaaadd75435e75fb360":{"id":"fa7624e5fc354eaaadd75435e75fb360","stepType":"Decision","name":"Decision"},"8ef9ef7954204f1e950d997401e98751":{"stepType":"ChoicePrompt","name":"Search Again","prompt":{"value":[{"type":"paragraph","children":[{"text":"Would you like to keep searching?"}]}],"mode":"simple"},"confirmMessage":{"value":"","mode":"simple"},"acknowledgeMsg":{"value":"","mode":"simple"},"applicability":{"mode":"script","value":"(function execute() {\n       return !vaVars.query_search;\n})()\n"},"optional":false,"defaultValue":{"value":"","mode":"simple"},"variableId":"716ae74be12647f19b9e3c96d4214320","id":"8ef9ef7954204f1e950d997401e98751","withNluUserInput":true,"skipIfFulfilled":true,"entity":{"id":"","label":""},"skippable":{"value":"","mode":"query"},"cardMetadata":{"mode":"card","metadataScript":"","cardTemplate":"","cardFields":{},"cardDefinition":{}},"hasCardHeader":false},"3fa5963041114e4890a62ffdbcadfe2a":{"id":"3fa5963041114e4890a62ffdbcadfe2a","stepType":"TextOutput","name":"Item not found","value":[{"value":[{"type":"paragraph","children":[{"text":""},{"text":"I couldn't find any item that matches your search query"},{"text":""}]}],"mode":"simple"}],"applicability":{"value":"","mode":"query"},"secure":false},"e7dc54a19e114f058efe7659ae9737b8":{"id":"e7dc54a19e114f058efe7659ae9737b8","stepType":"Component","name":"No Deflection","fields":[],"reusableTopicId":"7fb4ca055303201033cdddeeff7b12b3","reusableTopicChoice":"Deflection","sourceType":"TOPIC_BLOCK","loading":false,"applicability":{"value":"","mode":"query"},"inputs":{"deflection_configuration":{"value":"5292005253213010000dddeeff7b126c","mode":"string","type":"Reference","table":"ssa_deflection_configuration"},"deflection_pattern":{"value":"9ee3409253213010000dddeeff7b123b","mode":"string","type":"Reference","table":"ssa_deflection_pattern"},"activity_table":{"value":"","mode":"simple","type":"String"},"activity_ids":{"value":"","mode":"simple","type":"String"}},"outputs":[],"outdatedNote":false,"variableIds":[]},"5a5838d2fef141fa8b95d8f939728bea":{"id":"5a5838d2fef141fa8b95d8f939728bea","stepType":"Component","name":"Deflection: Request Complete","fields":[],"reusableTopicId":"7fb4ca055303201033cdddeeff7b12b3","reusableTopicChoice":"Deflection","sourceType":"TOPIC_BLOCK","loading":false,"applicability":{"value":"","mode":"query"},"inputs":{"deflection_configuration":{"value":"5292005253213010000dddeeff7b126c","mode":"string","type":"Reference","table":"ssa_deflection_configuration"},"deflection_pattern":{"value":"f063885253213010000dddeeff7b1221","mode":"string","type":"Reference","table":"ssa_deflection_pattern"},"activity_table":{"value":[{"type":"paragraph","children":[{"text":""},{"type":"datapill","dataPill":{"value":"{{vaInputs.record_table}}","displayValue":"Input Variables➛Record_table"},"children":[{"text":""}]},{"text":""}]}],"mode":"string","type":"String"},"activity_ids":{"value":[{"type":"paragraph","children":[{"text":""},{"type":"datapill","dataPill":{"value":"{{vaInputs.record_id}}","displayValue":"Input Variables➛Record_id"},"children":[{"text":""}]},{"text":""}]}],"mode":"string","type":"String"}},"outputs":[],"outdatedNote":false,"variableIds":[]},"a7615c5032d3477497557fadf592c27e":{"id":"a7615c5032d3477497557fadf592c27e","stepType":"Component","name":"Deflection: Link Provided","fields":[],"reusableTopicId":"7fb4ca055303201033cdddeeff7b12b3","reusableTopicChoice":"Deflection","sourceType":"TOPIC_BLOCK","loading":false,"applicability":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run\n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n       return applicability;\n    */\n    return vaInputs.catalog_item_id != '-1';\n})()\n"},"inputs":{"deflection_configuration":{"value":"5292005253213010000dddeeff7b126c","mode":"string","type":"Reference","table":"ssa_deflection_configuration"},"deflection_pattern":{"value":"6eb34c5253213010000dddeeff7b12be","mode":"string","type":"Reference","table":"ssa_deflection_pattern"},"activity_table":{"value":"","mode":"simple","type":"String"},"activity_ids":{"value":"","mode":"simple","type":"String"}},"outputs":[],"outdatedNote":false,"variableIds":[]},"63d00869ba424d75b94fd2b9a769e8d7":{"id":"63d00869ba424d75b94fd2b9a769e8d7","name":"Set search term","script":"(function execute() {\n\n    vaVars.search = vaInputs.search.toString();\n    vaVars.search_catalogitem = vaInputs.search_catalogitem;\n    vaVars.search_hardware = vaInputs.search_hardware;\n    vaVars.search_software = vaInputs.search_software;\n\n    if (vaInputs.search != ''){\n        vaVars.direct_search = true;\n        return;\n    }\n        \n\n    if (vaContext.getRequesterLang() == 'en') {\n        var gr = new GlideRecord('sc_cat_item');\n        gr.addActiveQuery();\n        gr.addQuery('name', vaInputs.search_catalogitem);\n        gr.query();\n\n        while (gr.next()) {\n            vaVars.catalog_item_id = gr.getValue('sys_id');\n            vaInputs.catalog_item_id = vaVars.catalog_item_id;\n        }\n        \n    } else {\n\n        var gr = new GlideRecord('sys_translated_text');\n        \n        gr.addQuery('value', vaInputs.search_catalogitem);\n        gr.addQuery('tablename', 'sc_cat_item');\n        gr.addQuery('language', vaContext.getRequesterLang())\n        gr.addQuery('fieldname', 'name')\n        gr.query();\n\n        while (gr.next()) {\n            var gr2 = new GlideRecord('sc_cat_item');\n            gr2.addActiveQuery();\n            gr2.addQuery('sys_id', gr.getValue('documentkey'));\n            gr2.query();\n            if (gr2.next()) {\n                vaVars.catalog_item_id = gr.getValue('documentkey');\n                vaInputs.catalog_item_id = vaVars.catalog_item_id;\n            }\n        }\n    }\n\n    if (vaVars.search_catalogitem != null) {\n        if (vaVars.search_hardware == '' &amp;&amp; vaVars.search_software == '')\n            vaVars.hardware_software_entity_mapped = false;\n\n        else\n            vaVars.hardware_software_entity_mapped = true;\n    }\n})()\n","stepType":"ScriptAction","applicability":{"mode":"query","value":""}},"e2e0796218e941cd83cd5abca3b711ce":{"id":"e2e0796218e941cd83cd5abca3b711ce","stepType":"ScriptOutput","name":"Submitted Request Record","output_type":"single_part","script":"(function execute() {\n    \n    var title = '';\n    var subtitle = '';\n    var fields = [];\n\n    var gr = new GlideRecord(vaVars.record_table);\n    gr.addQuery('sys_id',vaVars.record_id);\n    gr.query();\n    title = gr.getClassDisplayValue();\n    if(gr.next()){\n        subtitle = gr.getValue('task_effective_number').toString();\n        if (gr.isValidField('short_description')) {\n            fields.push({\n                \"fieldLabel\": gr.getElement('short_description').getLabel(),\n                \"fieldValue\": gr.getDisplayValue('short_description').toString()\n            });\n        }\n        if (gr.isValidField('state')) {\n            fields.push({\n                \"fieldLabel\": gr.getElement('state').getLabel(),\n                \"fieldValue\": gr.getDisplayValue('state').toString()\n            });\n        }\n    }\n    \n    var card_data = JSON.stringify({\n            \"title\":title,\n            \"subtitle\":subtitle,\n            \"fields\":fields,\n            \"url\":vaVars.recordLink.toString()\n      });\n    return vaSystem.renderCard(\"Card\", card_data); \n})()\n","applicability":{"value":"","mode":"query"}},"44a9276364a947d980cdc71ace4b8623":{"id":"44a9276364a947d980cdc71ace4b8623","name":"Check if Item is supported by VA?","script":"(function execute() {\n    vaVars.catalog_item_id = vaInputs.catalog_item_id;\n    vaVars.is_conversational = new sn_sc.CatalogConversationHelper().hasVASupport(vaVars.catalog_item_id.toString());\n    vaInputs.is_conversational = vaVars.is_conversational;\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"0f025be1426740e28805367836daeffa":{"id":"0f025be1426740e28805367836daeffa","stepType":"Prompt","name":"Search","prompt":{"value":[{"type":"paragraph","children":[{"text":"What are you looking for?"}]}],"mode":"simple"},"confirmMessage":{"value":"","mode":"simple"},"acknowledgeMsg":{"value":"","mode":"simple"},"applicability":{"value":"vaInputs.search_catalogitemISEMPTY^vaInputs.search_hardwareISEMPTY^vaInputs.search_softwareISEMPTY^NQvaInputs.search_againISNOTEMPTY","mode":"query"},"skippable":{"value":"","mode":"query"},"defaultValue":{"value":"","mode":"simple"},"withNluUserInput":false,"skipIfFulfilled":false,"variableId":"6c6abd9d000447b39b032fc6135411ad","inputType":{"format":"Text","script":""}},"e6b8aebb2f6b443c93dccf0a12c47723":{"id":"e6b8aebb2f6b443c93dccf0a12c47723","stepType":"Prompt","name":"Search Software","prompt":{"value":[{"type":"paragraph","children":[{"text":"What are you looking for?"}]}],"mode":"simple"},"confirmMessage":{"value":"","mode":"simple"},"acknowledgeMsg":{"value":"","mode":"simple"},"applicability":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run\n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n       return applicability;\n    */\n    return false;\n})()\n"},"skippable":{"mode":"query","value":""},"defaultValue":{"value":"","mode":"simple"},"withNluUserInput":true,"skipIfFulfilled":true,"variableId":"9d168acb8e12422ca873b7d38f6de0df","inputType":{"format":"Text","script":""}},"0e55b45e8fc64b48b6e12a813eafa8ca":{"id":"0e55b45e8fc64b48b6e12a813eafa8ca","stepType":"Prompt","name":"Search Hardware","prompt":{"value":[{"type":"paragraph","children":[{"text":"What are you looking for?"}]}],"mode":"simple"},"confirmMessage":{"value":"","mode":"simple"},"acknowledgeMsg":{"value":"","mode":"simple"},"applicability":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run\n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n       return applicability;\n    */\n    return false;\n})()\n"},"skippable":{"mode":"query","value":""},"defaultValue":{"value":"","mode":"simple"},"withNluUserInput":true,"skipIfFulfilled":true,"variableId":"802c4cb6309e4d399c0cd21a986083e1","inputType":{"format":"Text","script":""}},"423596eca4064f31a096115d497f3baa":{"id":"423596eca4064f31a096115d497f3baa","stepType":"Prompt","name":"Search CatalogItem","prompt":{"value":[{"type":"paragraph","children":[{"text":""},{"text":"What are you looking for?"},{"text":""}]}],"mode":"simple"},"confirmMessage":{"value":"","mode":"simple"},"acknowledgeMsg":{"value":"","mode":"simple"},"applicability":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run\n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n       return applicability;\n    */\n    return false;\n})()\n"},"optional":false,"defaultValue":{"value":"","mode":"simple"},"withNluUserInput":true,"skipIfFulfilled":true,"entity":{"id":"","label":""},"variableId":"5fa577c15ccd415ba8b51117954fc171","skippable":{"value":"","mode":"query"},"inputType":{"format":"Text","script":""}},"d7fbb8358340457d8c3ea0a978f7a7c2":{"id":"d7fbb8358340457d8c3ea0a978f7a7c2","name":"Set variables","script":"(function execute() {\n  vaVars.search_again = true;\n  vaVars.catalog_item_id = '';\n  vaInputs.catalog_item_id = '';\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"c0e09920a7c24ed5b52978d16df11147":{"id":"c0e09920a7c24ed5b52978d16df11147","stepType":"Decision","name":"Decision"},"6137f5a584d14da585568528165c0ecb":{"id":"6137f5a584d14da585568528165c0ecb","name":"Hardware/Software Search","script":"(function execute() {\n    vaVars.hardware_software_entity_searched = true;\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"8ee05bf382a84b7c96a61db2efc3d829":{"id":"8ee05bf382a84b7c96a61db2efc3d829","name":"Set variables","script":"(function execute() {\n    vaInputs.search_catalogitem = '';\n    vaInputs.search_hardware = '';\n    vaInputs.search_software = '';\n    vaVars.search_catalogitem = '';\n    vaVars.search_hardware = '';\n    vaVars.search_software = '';\n    vaInputs.catalog_item_id = '';\n    vaVars.catalog_item_id = '';\n    vaVars.query_search = true;\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"d9a652e2f4c444cdbb4fe22d63ef6b17":{"id":"d9a652e2f4c444cdbb4fe22d63ef6b17","stepType":"Decision","name":"Query search?"},"1109a39495e64c2c87ce41028555f6e4":{"id":"1109a39495e64c2c87ce41028555f6e4","name":"Get Catalog item details","script":"(function execute() {\n    \n    var catItemObj = new sn_sc.CatItem(vaVars.catalog_item_id);\n    var catItemJson = catItemObj.getItemSummary(false, 'basic');\n    vaVars.image = catItemJson.picture;\n    vaVars.item_title = catItemJson.name;\n\n    var itemJSON = new sn_sc.CatalogConversationHelper().getItem(vaVars.catalog_item_id);\n    vaVars.itemJSON = JSON.stringify(itemJSON);\n})()\n","stepType":"ScriptAction","applicability":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate if the topic or topic node can run\n       and be discoverable (or not).  For example:\n\n       var applicability = vaInputs.first_name == 'Bill' ? true : false;\n       return applicability;\n    */\n    return vaVars.catalog_item_id != '' || vaInputs.catalog_item_id != '';\n})()\n"}},"3765284426684c18a9dcbf6c6607407f":{"id":"3765284426684c18a9dcbf6c6607407f","stepType":"TextOutput","name":"Description","secure":false,"value":[{"value":"(function execute() {\n    var itemJson = JSON.parse(vaVars.itemJSON);\n    if (!gs.nil(itemJson.description))\n        return gs.getMessage(\"Here are some more details about {0}{1}\", [vaVars.item_title, itemJson.description]);\n})()\n","mode":"script"}],"applicability":{"mode":"script","value":"(function execute() {\n    return vaInputs.catalog_item_id  != '-1';\n})()\n"}},"3130d171233340b1b99a251e9cc07a4f":{"id":"3130d171233340b1b99a251e9cc07a4f","stepType":"TextOutput","name":"Not found","secure":false,"value":[{"value":"(function execute() {\n    if (vaVars.query_search)\n        return gs.getMessage(\"I'm sorry, I wasn't able to find anything that matches this request, but your questions are helping me learn.\");\n    else\n        return gs.getMessage(\"I'm sorry, I wasn't able to find anything that matches this request.\");\n})()\n","mode":"script"}],"applicability":{"mode":"query","value":""}},"34ff08421437476681348746c105813b":{"id":"34ff08421437476681348746c105813b","stepType":"ImageOutput","name":"Image","url":{"value":"(function execute() {\n    /* Return a quoted string.  For example:\n\n       if (vaInputs.first_name == 'Bill') {\n           return gs.getMessageLang(\"hi there {0}\", vaContext.getRequesterLang(), [vaInputs.first_name]);\n       } else {\n           return gs.getMessageLang(\"how are you {0}\", vaContext.getRequesterLang(), [vaInputs.last_name]);\n       }\n    */\n    return vaVars.baseUri + vaVars.image;\n})()\n","mode":"script"},"altText":{"value":"","mode":"simple"},"variableId":"","applicability":{"mode":"script","value":"(function execute() {\n\n    return vaVars.catalog_item_id != '' &amp;&amp; vaInputs.search == '' &amp;&amp; vaVars.image_not_shown;\n    \n})()\n"}},"efecf21e303c44ba85a29899a0300eee":{"id":"efecf21e303c44ba85a29899a0300eee","name":"Set catalog item variables","script":"(function execute() {\n    if(vaInputs.catalog_item_id == null &amp;&amp; vaVars.catalog_item_id != null)\n      vaInputs.catalog_item_id = vaVars.catalog_item_id;\n    else if(vaVars.catalog_item_id == null &amp;&amp; vaInputs.catalog_item_id != null)\n     vaVars.catalog_item_id = vaInputs.catalog_item_id;\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"2542534637294e519cc3f318d30bbeed":{"id":"2542534637294e519cc3f318d30bbeed","stepType":"Decision","name":"Decision"},"e8dedb8eb6b044b19d9d5e5c995389ac":{"id":"e8dedb8eb6b044b19d9d5e5c995389ac","name":"Process end state details","script":"(function execute() {\n    var tableName = vaInputs.record_table.toString();\n    var recordId = vaInputs.record_id.toString();\n\n    vaVars.record_table = tableName;\n    vaVars.record_id = recordId;\n\n    var gr = new GlideRecord(tableName);\n    gr.addQuery('sys_id', recordId);\n    gr.query();\n\n    if (gr.next()) {\n        vaVars.isTaskBasedTable = !!(gr.parent != null &amp;&amp; gr.parent.getTableName() == 'task')\n    }\n\n\n    var pageId = 'form';\n    if (vaVars.isTaskBasedTable)\n        pageId = 'ticket';\n\n    var link = '';\n    var screenId = '';\n    if (vaVars.portalName === 'mesp') {\n        var mobileDLink = new global.MobileDeepLinkGenerator('request');\n        if (tableName == 'sc_req_item')\n            screenId = '7516f9d787232300e0ef0cf888cb0b4d';\n        else if (tableName == 'sc_request')\n            screenId = '276dd3edb79033001befcd58de11a9c7';\n        else if (tableName == 'incident')\n            screenId = 'ebb94d9c0f2033001befa68ca8767e4e';\n        else\n            screenId = 'd39eb2db87772300e0ef0cf888cb0bcb';\n\n        link = mobileDLink.getFormScreenLink(screenId, tableName, recordId);\n    } else\n        link = vaVars.baseUri + vaVars.portalName + \"?id=\" + pageId + \"&amp;table=\" + tableName + \"&amp;sys_id=\" + recordId;\n\n    vaVars.recordLink = link;\n})()\n","stepType":"ScriptAction","applicability":{"value":"","mode":"query"}},"85f2c796fd0b4abd8698cd5357a85577":{"id":"85f2c796fd0b4abd8698cd5357a85577","stepType":"Decision","name":"Decision"},"8b9f5cde3f494a0da1c8f333b512c079":{"id":"8b9f5cde3f494a0da1c8f333b512c079","stepType":"LinkOutput","name":"Submitted record link","url":{"value":[{"type":"paragraph","children":[{"text":""},{"type":"datapill","dataPill":{"value":"{{vaVars.recordLink}}","displayValue":"Script Variables➛recordLink"},"children":[{"text":""}]},{"text":""}]}],"mode":"simple"},"label":{"value":[{"type":"paragraph","children":[{"text":"Click here to view the created record"}]}],"mode":"simple"},"header":{"value":[{"type":"paragraph","children":[{"text":"Your request has been submitted"}]}],"mode":"simple"},"applicability":{"value":"","mode":"query"},"linkType":"single","introMsg":{"value":"","mode":"simple"},"listOfLinks":""},"3abeb5e6dffe43999cf573059894e694":{"id":"3abeb5e6dffe43999cf573059894e694","stepType":"ImageOutput","name":"Image","url":{"value":"(function execute() {\n    return vaVars.baseUri + vaVars.image.toString();\n})()\n","mode":"script"},"altText":{"value":"","mode":"simple"},"variableId":"","applicability":{"mode":"script","value":"(function execute() {\n    return vaInputs.search == '' &amp;&amp; vaVars.catalog_item_id != '' &amp;&amp; vaVars.image_not_shown;\n})()\n"}},"e9f57bdb0b2847efb672ff374e06944f":{"id":"e9f57bdb0b2847efb672ff374e06944f","name":"Set variables","script":"(function execute() {\n    vaVars.image_not_shown=false;\n})()\n","stepType":"ScriptAction","applicability":{"mode":"script","value":"(function execute() {\n\n    return vaVars.catalog_item_id != '' &amp;&amp; vaInputs.search == '';\n    \n})()\n"}},"97dcb0ccce6840b584df621df14e6cee":{"id":"97dcb0ccce6840b584df621df14e6cee","name":"Set variables","script":"(function execute() {\n    vaVars.image_not_shown=false;\n})()\n","stepType":"ScriptAction","applicability":{"mode":"script","value":"(function execute() {\n    return vaInputs.search == '' &amp;&amp; vaVars.catalog_item_id != '';\n})()\n"}}},"edges":[{"id":"0689b95e0a4c45b3a32830a12d4e23b1","edgeType":"Branch","source":"c0e09920a7c24ed5b52978d16df11147","target":"2542534637294e519cc3f318d30bbeed","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return !vaVars.hardware_software_entity_searched &amp;&amp; !vaVars.direct_search;\n})()\n"},"label":"No"},{"id":"95aae0e97c4a43419b0537c36224d568","edgeType":"Branch","source":"c0e09920a7c24ed5b52978d16df11147","target":"8ee05bf382a84b7c96a61db2efc3d829","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    \n    return vaVars.direct_search || vaVars.hardware_software_entity_searched;\n})()\n"},"label":"Yes"},{"id":"7c6d2a272af44297bd800c7da898283e","edgeType":"Edge","source":"efecf21e303c44ba85a29899a0300eee","target":"a60fba743f2e433195227516c895e622","sourcePort":"","targetPort":""},{"id":"103b2b778cac4de68afc630606318976","edgeType":"Branch","source":"a60fba743f2e433195227516c895e622","target":"3fa5963041114e4890a62ffdbcadfe2a","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return vaInputs.catalog_item_id == '' || vaVars.catalog_item_id == null;\n})()\n"},"label":"Didn't recieve an itemID"},{"id":"27168773a67d42299726efe8d912ec8d","edgeType":"Branch","source":"a60fba743f2e433195227516c895e622","target":"44a9276364a947d980cdc71ace4b8623","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n   \n   return (vaVars.catalog_item_id != null &amp;&amp; vaInputs.catalog_item_id != \"-1\");\n   \n})()\n"},"label":"Recieved an ItemID"},{"id":"fe0513b93622487b903c5fcfce5c54ff","edgeType":"Edge","source":"0f025be1426740e28805367836daeffa","target":"63d00869ba424d75b94fd2b9a769e8d7","sourcePort":"","targetPort":""},{"id":"b3678655ad2145719af7f33cf6724ef2","edgeType":"Branch","source":"c525cd724b824ce99008c0baf5e85e2c","target":"34ff08421437476681348746c105813b","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n   \n        return (!vaVars.is_conversational || !vaInputs.is_conversational);\n\n})()\n"},"label":"Not Supported"},{"id":"10d4ea343f294f25af889adf38d6f5d7","edgeType":"Edge","source":"44a9276364a947d980cdc71ace4b8623","target":"1109a39495e64c2c87ce41028555f6e4","sourcePort":"","targetPort":""},{"id":"525bed984adb4935a6967fd3ceff7999","edgeType":"Edge","source":"1109a39495e64c2c87ce41028555f6e4","target":"c525cd724b824ce99008c0baf5e85e2c","sourcePort":"","targetPort":""},{"id":"6cf7557b3c6d4f489dd70a881c271379","edgeType":"Branch","source":"a60fba743f2e433195227516c895e622","target":"3130d171233340b1b99a251e9cc07a4f","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return vaInputs.catalog_item_id == \"-1\";\n})()\n"},"label":"itemIid is -1"},{"id":"3c42bbc5dba14d67aa265bf93b29fcc9","edgeType":"Edge","source":"e7dc54a19e114f058efe7659ae9737b8","target":"f40e55bc28da4a43b16c9d6e99a06103","sourcePort":"","targetPort":""},{"id":"6db9258077dc45db92386690e51057c0","edgeType":"Edge","source":"8ee05bf382a84b7c96a61db2efc3d829","target":"0f025be1426740e28805367836daeffa","sourcePort":"","targetPort":""},{"id":"03d8e3fee0b34722ae84b448349b0291","edgeType":"Edge","source":"6137f5a584d14da585568528165c0ecb","target":"f94ca48fc8ec4fbe94026dc90733505b","sourcePort":"","targetPort":""},{"id":"0eff282efa7245ed99fbc943ac1c05c4","edgeType":"Edge","source":"e2e5626f52174aa1a1c42cc3b26031f2","target":"f8244c027bcb4790b2f8b07021e5609a","sourcePort":"","targetPort":""},{"id":"b2e1495923b3476682aff11da3376c78","edgeType":"Edge","source":"a7615c5032d3477497557fadf592c27e","target":"8ef9ef7954204f1e950d997401e98751","sourcePort":"","targetPort":""},{"id":"969c0c13adc5482fa6a9778109975e1f","edgeType":"Edge","source":"e6b8aebb2f6b443c93dccf0a12c47723","target":"0f025be1426740e28805367836daeffa","sourcePort":"","targetPort":""},{"id":"4d9ab133bc5d4c2081cff2c286de3fef","edgeType":"Edge","source":"0e55b45e8fc64b48b6e12a813eafa8ca","target":"e6b8aebb2f6b443c93dccf0a12c47723","sourcePort":"","targetPort":""},{"id":"e3c26fb3a3224b41ab4e865d68d90cdd","edgeType":"Edge","source":"63d00869ba424d75b94fd2b9a769e8d7","target":"f94ca48fc8ec4fbe94026dc90733505b","sourcePort":"","targetPort":""},{"id":"cb672c048b8c4651bec675f5118b476c","edgeType":"Branch","source":"f8244c027bcb4790b2f8b07021e5609a","target":"8ef9ef7954204f1e950d997401e98751","sourcePort":"","targetPort":"","expression":{"value":"record_idEMPTYSTRING","mode":"query"},"label":"Catalog Request Not Complete"},{"id":"31cb8bfa784c4d459f0280b3b2989eb1","edgeType":"Edge","source":"e2e0796218e941cd83cd5abca3b711ce","target":"5a5838d2fef141fa8b95d8f939728bea","sourcePort":"","targetPort":""},{"id":"9f7cc51b56d343cbac54f5339cde35ff","edgeType":"Branch","source":"f8244c027bcb4790b2f8b07021e5609a","target":"c6166107c68c4a8fae4fd022790af17a","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return !!vaInputs.record_id.getValue() &amp;&amp; vaInputs.record_id.getValue() == '-1';\n})()\n"},"label":"Item has no VA Support"},{"id":"b455b22b04d74718af249a643f202116","edgeType":"Edge","source":"8ef9ef7954204f1e950d997401e98751","target":"fa7624e5fc354eaaadd75435e75fb360","sourcePort":"","targetPort":""},{"id":"2d7f796970d8453f81e44474f75301c4","edgeType":"Edge","source":"3fa5963041114e4890a62ffdbcadfe2a","target":"8ef9ef7954204f1e950d997401e98751","sourcePort":"","targetPort":""},{"id":"60a0e90d68224f39b2884ed565b39ed7","edgeType":"Branch","source":"fa7624e5fc354eaaadd75435e75fb360","target":"e7dc54a19e114f058efe7659ae9737b8","sourcePort":"","targetPort":"","expression":{"value":"vaInputs.search_again=1","mode":"query"},"label":"No"},{"id":"1d2698566f6e45a0b184797884e27947","edgeType":"Edge","source":"5a5838d2fef141fa8b95d8f939728bea","target":"f40e55bc28da4a43b16c9d6e99a06103","sourcePort":"","targetPort":""},{"id":"40c22134571049f5b05df25020f956ee","edgeType":"Edge","source":"c6166107c68c4a8fae4fd022790af17a","target":"a7615c5032d3477497557fadf592c27e","sourcePort":"","targetPort":""},{"id":"d7479396def24c6a8cc89b30ebcede2d","edgeType":"Edge","source":"f0f4e2fa29484f2a9a8492ab6c4a6394","target":"e2e0796218e941cd83cd5abca3b711ce","sourcePort":"","targetPort":""},{"id":"ca763e8e5b464d4aa5dcc306c0313621","edgeType":"Edge","source":"172bfd5b0ab24224bfa1f173d668f9c2","target":"423596eca4064f31a096115d497f3baa","sourcePort":"","targetPort":""},{"id":"f1c59282b0c542b5b6fa59a2b6f48795","edgeType":"Edge","source":"423596eca4064f31a096115d497f3baa","target":"0e55b45e8fc64b48b6e12a813eafa8ca","sourcePort":"","targetPort":""},{"id":"faed7d34cd77415eb359090eaa290bb8","edgeType":"Edge","source":"13beab0ccae84c05bae1a34314d2a43c","target":"d7fbb8358340457d8c3ea0a978f7a7c2","sourcePort":"","targetPort":""},{"id":"52698ef4854a46878f25a056d283a90f","edgeType":"Edge","source":"d7fbb8358340457d8c3ea0a978f7a7c2","target":"c0e09920a7c24ed5b52978d16df11147","sourcePort":"","targetPort":""},{"id":"972d62888f8145b6b054b955372d7da3","edgeType":"Branch","source":"fa7624e5fc354eaaadd75435e75fb360","target":"d9a652e2f4c444cdbb4fe22d63ef6b17","sourcePort":"","targetPort":"","expression":{"value":"vaInputs.search_again=0","mode":"query"},"label":"Yes"},{"id":"7fd36fcd9c514f8f8aad875aa2232e2d","edgeType":"Branch","source":"d9a652e2f4c444cdbb4fe22d63ef6b17","target":"13beab0ccae84c05bae1a34314d2a43c","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    return !vaVars.query_search;\n})()\n"},"label":"No"},{"id":"c3545f818d714f94a4305cacda333e80","edgeType":"Branch","source":"d9a652e2f4c444cdbb4fe22d63ef6b17","target":"e7dc54a19e114f058efe7659ae9737b8","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    return vaVars.query_search;\n})()\n"},"label":"Yes"},{"id":"5586d3b134d54572876085bafc50e25d","edgeType":"Edge","source":"3765284426684c18a9dcbf6c6607407f","target":"c6166107c68c4a8fae4fd022790af17a","sourcePort":"","targetPort":""},{"id":"f5070150d9cf4dbbbe94d99cbd14116a","edgeType":"Edge","source":"3130d171233340b1b99a251e9cc07a4f","target":"8ef9ef7954204f1e950d997401e98751","sourcePort":"","targetPort":""},{"id":"94a415bf69104eed87e9b0b0518c66db","edgeType":"Edge","source":"f94ca48fc8ec4fbe94026dc90733505b","target":"efecf21e303c44ba85a29899a0300eee","sourcePort":"","targetPort":""},{"id":"38b3ef0ac9724008948c8d2a1f625597","edgeType":"Branch","source":"2542534637294e519cc3f318d30bbeed","target":"6137f5a584d14da585568528165c0ecb","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    return vaVars.hardware_software_entity_mapped;\n})()\n"},"label":"Yes"},{"id":"d17cf2dacc344877a908febf4d01cc0b","edgeType":"Branch","source":"2542534637294e519cc3f318d30bbeed","target":"8ee05bf382a84b7c96a61db2efc3d829","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    /* Return true or false to indicate the branch condition's applicability.\n       For example:\n\n       var applies = vaInputs.first_name == 'Bill' ? true : false;\n       return applies;\n    */\n    return !vaVars.hardware_software_entity_mapped;\n})()\n"},"label":"No"},{"id":"59a49a56c5324a6fa34f7fe02bb3acc2","edgeType":"Branch","source":"f8244c027bcb4790b2f8b07021e5609a","target":"e8dedb8eb6b044b19d9d5e5c995389ac","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return !!vaInputs.record_id.getValue() &amp;&amp; vaInputs.record_id.getValue() != '-1';\n})()\n"},"label":"Catalog Request Complete"},{"id":"daa70e2954d2445a9f3a896c18f1872d","edgeType":"Edge","source":"e8dedb8eb6b044b19d9d5e5c995389ac","target":"85f2c796fd0b4abd8698cd5357a85577","sourcePort":"","targetPort":""},{"id":"39b48d062a01447da9ab0469d2878e55","edgeType":"Branch","source":"85f2c796fd0b4abd8698cd5357a85577","target":"f0f4e2fa29484f2a9a8492ab6c4a6394","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return vaVars.isTaskBasedTable;\n})()\n"},"label":"Task based table"},{"id":"4588a52cca9c43a5abb0e1722b6d981c","edgeType":"Branch","source":"85f2c796fd0b4abd8698cd5357a85577","target":"8b9f5cde3f494a0da1c8f333b512c079","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return !vaVars.isTaskBasedTable;\n})()\n"},"label":"Non-Task based table"},{"id":"c7a7562987a24ebea106027a02ca39b2","edgeType":"Edge","source":"8b9f5cde3f494a0da1c8f333b512c079","target":"5a5838d2fef141fa8b95d8f939728bea","sourcePort":"","targetPort":""},{"id":"5e1e0a38a4d74764bd295c0794787ae9","edgeType":"Branch","source":"c525cd724b824ce99008c0baf5e85e2c","target":"3abeb5e6dffe43999cf573059894e694","sourcePort":"","targetPort":"","expression":{"mode":"script","value":"(function execute() {\n    return (vaVars.is_conversational || vaInputs.is_conversational);\n})()\n"},"label":"Is Supported"},{"id":"459fef0dadef4b71aacf46a575abf7e5","edgeType":"Edge","source":"34ff08421437476681348746c105813b","target":"e9f57bdb0b2847efb672ff374e06944f","sourcePort":"","targetPort":""},{"id":"afab5617b6a14005aa05ad3976305738","edgeType":"Edge","source":"e9f57bdb0b2847efb672ff374e06944f","target":"3765284426684c18a9dcbf6c6607407f","sourcePort":"","targetPort":""},{"id":"1ed4c187f6b241cb943c2c0444fdc62f","edgeType":"Edge","source":"3abeb5e6dffe43999cf573059894e694","target":"97dcb0ccce6840b584df621df14e6cee","sourcePort":"","targetPort":""},{"id":"84d6e896887648c4bd730ab5e7416f72","edgeType":"Edge","source":"97dcb0ccce6840b584df621df14e6cee","target":"e2e5626f52174aa1a1c42cc3b26031f2","sourcePort":"","targetPort":""}]}}}</graph><key_phrases>Submit a Request,Submit a request (Deprecated),Submit a request,request,buy,item,catalog,purchase,order,computer,phone,need,require,order software,install software,request software</key_phrases><library>false</library><live_agent>false</live_agent><name>Submit a Request</name><nlu_intent/><nlu_intent_label/><nlu_model/><nlu_model_label/><nlu_provider/><palette_label/><roles/><root_topic_id>375155b0db3453005dd0dfea5e961934</root_topic_id><secure_custom_input_control>false</secure_custom_input_control><source_topic_id>375155b0db3453005dd0dfea5e961934</source_topic_id><sys_class_name>sys_cb_topic</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2023-06-01 08:03:21</sys_created_on><sys_domain>global</sys_domain><sys_id>baf60f1b97072110c0e539000153af6d</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Submit a Request</sys_name><sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package><sys_policy/><sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope><sys_update_name>sys_cb_topic_baf60f1b97072110c0e539000153af6d</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2023-06-01 08:03:21</sys_updated_on><triggerable_by_notification>false</triggerable_by_notification><type>STANDARD</type></sys_cb_topic></record_update>]]></payload>
        <payload_hash>1016154539</payload_hash>
        <record_name>Submit a Request</record_name>
        <reverted_from/>
        <source>4a7008d197c32110c0e539000153afe3</source>
        <source_table>sys_update_set</source_table>
        <state>previous</state>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-06-01 08:03:21</sys_created_on>
        <sys_id>f6f60f1b97072110c0e539000153af6f</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_recorded_at>18875fb92f70000001</sys_recorded_at>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-06-01 08:03:21</sys_updated_on>
        <type>Topic</type>
        <update_guid>3ef60f1b2707211089d09fa952945a6e</update_guid>
        <update_guid_history>3ef60f1b2707211089d09fa952945a6e:1016154539</update_guid_history>
    </sys_update_version>
    <sys_metadata_delete action="INSERT_OR_UPDATE">
        <sys_audit_delete/>
        <sys_class_name>sys_metadata_delete</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2023-06-01 08:06:32</sys_created_on>
        <sys_db_object display_value="" name="sys_cb_topic">sys_cb_topic</sys_db_object>
        <sys_id>65149572edee4030828c91ffb35e4759</sys_id>
        <sys_metadata>baf60f1b97072110c0e539000153af6d</sys_metadata>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>Submit a Request</sys_name>
        <sys_package display_value="NeedIt" source="x_58872_needit">6ead8e780f603200cd674f8ce1050ed1</sys_package>
        <sys_parent/>
        <sys_policy/>
        <sys_scope display_value="NeedIt">6ead8e780f603200cd674f8ce1050ed1</sys_scope>
        <sys_scope_delete display_value="">94872a8897db403e8ee69a431de2fca4</sys_scope_delete>
        <sys_update_name>sys_cb_topic_baf60f1b97072110c0e539000153af6d</sys_update_name>
        <sys_update_version display_value="sys_cb_topic_baf60f1b97072110c0e539000153af6d">f6f60f1b97072110c0e539000153af6f</sys_update_version>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2023-06-01 08:06:32</sys_updated_on>
    </sys_metadata_delete>
</record_update>
